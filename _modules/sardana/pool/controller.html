

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>sardana.pool.controller &mdash; sardana 3.0.4-alpha documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> sardana
          

          
            
            <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference external" href="http://www.sardana-controls.org">Home Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sardana-org/sardana">Project Page</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pypi.python.org/pypi/sardana">Download from PyPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../docs.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana-plugins">Plugins Catalogue</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana/wiki">Wiki</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">sardana</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
      <li>sardana.pool.controller</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for sardana.pool.controller</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python</span>

<span class="c1">##############################################################################</span>
<span class="c1">##</span>
<span class="c1"># This file is part of Sardana</span>
<span class="c1">##</span>
<span class="c1"># http://www.sardana-controls.org/</span>
<span class="c1">##</span>
<span class="c1"># Copyright 2011 CELLS / ALBA Synchrotron, Bellaterra, Spain</span>
<span class="c1">##</span>
<span class="c1"># Sardana is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU Lesser General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">##</span>
<span class="c1"># Sardana is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU Lesser General Public License for more details.</span>
<span class="c1">##</span>
<span class="c1"># You should have received a copy of the GNU Lesser General Public License</span>
<span class="c1"># along with Sardana.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="c1">##</span>
<span class="c1">##############################################################################</span>

<span class="sd">&quot;&quot;&quot;This module contains the definition of the Controller base classes&quot;&quot;&quot;</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;DataAccess&quot;</span><span class="p">,</span> <span class="s2">&quot;SardanaValue&quot;</span><span class="p">,</span> <span class="s2">&quot;Type&quot;</span><span class="p">,</span> <span class="s2">&quot;Access&quot;</span><span class="p">,</span> <span class="s2">&quot;Description&quot;</span><span class="p">,</span>
           <span class="s2">&quot;DefaultValue&quot;</span><span class="p">,</span> <span class="s2">&quot;FGet&quot;</span><span class="p">,</span> <span class="s2">&quot;FSet&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Memorized&quot;</span><span class="p">,</span> <span class="s2">&quot;MemorizedNoInit&quot;</span><span class="p">,</span> <span class="s2">&quot;NotMemorized&quot;</span><span class="p">,</span> <span class="s2">&quot;MaxDimSize&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Controller&quot;</span><span class="p">,</span> <span class="s2">&quot;Readable&quot;</span><span class="p">,</span> <span class="s2">&quot;Startable&quot;</span><span class="p">,</span> <span class="s2">&quot;Stopable&quot;</span><span class="p">,</span> <span class="s2">&quot;Loadable&quot;</span><span class="p">,</span>
           <span class="s2">&quot;Referable&quot;</span><span class="p">,</span> <span class="s2">&quot;Synchronizer&quot;</span><span class="p">,</span>
           <span class="s2">&quot;MotorController&quot;</span><span class="p">,</span> <span class="s2">&quot;CounterTimerController&quot;</span><span class="p">,</span> <span class="s2">&quot;ZeroDController&quot;</span><span class="p">,</span>
           <span class="s2">&quot;OneDController&quot;</span><span class="p">,</span> <span class="s2">&quot;TwoDController&quot;</span><span class="p">,</span> <span class="s2">&quot;TriggerGateController&quot;</span><span class="p">,</span>
           <span class="s2">&quot;PseudoMotorController&quot;</span><span class="p">,</span> <span class="s2">&quot;PseudoCounterController&quot;</span><span class="p">,</span>
           <span class="s2">&quot;IORegisterController&quot;</span><span class="p">]</span>

<span class="n">__docformat__</span> <span class="o">=</span> <span class="s1">&#39;restructuredtext&#39;</span>

<span class="kn">import</span> <span class="nn">copy</span>

<span class="kn">from</span> <span class="nn">taurus.core.taurushelper</span> <span class="kn">import</span> <span class="n">getLogLevel</span>
<span class="kn">from</span> <span class="nn">taurus.core.util.log</span> <span class="kn">import</span> <span class="n">Logger</span>

<span class="kn">from</span> <span class="nn">sardana</span> <span class="kn">import</span> <span class="n">DataAccess</span>
<span class="kn">from</span> <span class="nn">sardana.sardanavalue</span> <span class="kn">import</span> <span class="n">SardanaValue</span>
<span class="kn">from</span> <span class="nn">sardana.pool.pooldefs</span> <span class="kn">import</span> <span class="n">ControllerAPI</span><span class="p">,</span> <span class="n">AcqSynch</span><span class="p">,</span> <span class="n">AcqMode</span>


<span class="c1">#: Constant data type (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">Type</span> <span class="o">=</span> <span class="s1">&#39;type&#39;</span>

<span class="c1">#: Constant data access (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">Access</span> <span class="o">=</span> <span class="s1">&#39;r/w type&#39;</span>

<span class="c1">#: Constant description (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">Description</span> <span class="o">=</span> <span class="s1">&#39;description&#39;</span>

<span class="c1">#: Constant default value (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">DefaultValue</span> <span class="o">=</span> <span class="s1">&#39;defaultvalue&#39;</span>

<span class="c1">#: Constant for getter function (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">FGet</span> <span class="o">=</span> <span class="s2">&quot;fget&quot;</span>

<span class="c1">#: Constant for setter function (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">FSet</span> <span class="o">=</span> <span class="s2">&quot;fset&quot;</span>

<span class="c1">#: Constant memorize (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="c1">#: Possible values for this key are :obj:`Memorized`, :obj:`MemorizedNoInit`</span>
<span class="c1">#: and :obj:`NotMemorized`</span>
<span class="n">Memorize</span> <span class="o">=</span> <span class="s2">&quot;memorized&quot;</span>

<span class="c1">#: Constant memorized (to be used as a *value* in the :obj:`Memorize` field</span>
<span class="c1">#: definition in :attr:`~Controller.axis_attributes` or</span>
<span class="c1">#: :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">Memorized</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span>

<span class="c1">#: Constant memorize but not write at initialization (to be used as a *value*</span>
<span class="c1">#: in the :obj:`Memorize` field definition in</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">MemorizedNoInit</span> <span class="o">=</span> <span class="s2">&quot;true_without_hard_applied&quot;</span>

<span class="c1">#: Constant not memorize (to be used as a *value*</span>
<span class="c1">#: in the :obj:`Memorize` field definition in</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">NotMemorized</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span>

<span class="c1">#: Constant MaxDimSize (to be used as a *key* in the definition of</span>
<span class="c1">#: :attr:`~Controller.axis_attributes` or :attr:`~Controller.ctrl_attributes`)</span>
<span class="n">MaxDimSize</span> <span class="o">=</span> <span class="s2">&quot;maxdimsize&quot;</span>


<div class="viewcode-block" id="Controller"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller">[docs]</a><span class="k">class</span> <span class="nc">Controller</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base controller class. Do **NOT** inherit from this class directly</span>

<span class="sd">    :param :obj:`str` inst: controller instance name</span>
<span class="sd">    :param dict props: a dictionary containing pairs of property name,</span>
<span class="sd">    property value</span>

<span class="sd">    :arg args:</span>
<span class="sd">    :keyword kwargs:</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A sequence of :obj:`str` representing the controller features</span>
    <span class="n">ctrl_features</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1">#: A :class:`dict` containing controller properties where:</span>
    <span class="c1">#:</span>
    <span class="c1">#: - key : (:obj:`str`) controller property name</span>
    <span class="c1">#: - value : :class:`dict` with with three :obj:`str` keys (&quot;type&quot;,</span>
    <span class="c1">#:   &quot;description&quot; and &quot;defaultvalue&quot; case insensitive):</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Type`, value is one of the values described in</span>
    <span class="c1">#:       :ref:`sardana-controller-data-type`</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Description`, value is a :obj:`str` description of the</span>
    <span class="c1">#:       property.</span>
    <span class="c1">#:       if is not given it defaults to empty string.</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`DefaultValue`, value is a python object or None if no</span>
    <span class="c1">#:       default value exists for the property.</span>
    <span class="c1">#:</span>
    <span class="c1">#: Example::</span>
    <span class="c1">#:</span>
    <span class="c1">#:     from sardana.pool.controller import MotorController, \</span>
    <span class="c1">#:         Type, Description, DefaultValue</span>
    <span class="c1">#:</span>
    <span class="c1">#:     class MyCtrl(MotorController):</span>
    <span class="c1">#:</span>
    <span class="c1">#:         ctrl_properties = \</span>
    <span class="c1">#:         {</span>
    <span class="c1">#:             &#39;host&#39; : { Type : str,</span>
    <span class="c1">#:                        Description : &quot;host name&quot; },</span>
    <span class="c1">#:             &#39;port&#39; : { Type : int,</span>
    <span class="c1">#:                        Description : &quot;port number&quot;,</span>
    <span class="c1">#:                        DefaultValue: 5000 }</span>
    <span class="c1">#:         }</span>
    <span class="c1">#:</span>
    <span class="n">ctrl_properties</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1">#: A :class:`dict` containning controller extra attributes where:</span>
    <span class="c1">#:</span>
    <span class="c1">#: - key : (:obj:`str`) controller attribute name</span>
    <span class="c1">#: - value : :class:`dict` with :obj:`str` possible keys: &quot;type&quot;,</span>
    <span class="c1">#:   &quot;r/w type&quot;, &quot;description&quot;, &quot;fget&quot;, &quot;fset&quot; and &quot;maxdimsize&quot;</span>
    <span class="c1">#:   (case insensitive):</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Type`, value is one of the values described in</span>
    <span class="c1">#:       :ref:`sardana-controller-data-type`</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Access`, value is one of</span>
    <span class="c1">#:       :obj:`~sardana.sardanadefs.DataAccess` (&quot;read&quot; or &quot;read_write&quot;</span>
    <span class="c1">#:       (case insensitive) strings are also accepted) [default: ReadWrite]</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Description`, value is a :obj:`str` description of the</span>
    <span class="c1">#:       attribute [default: &quot;&quot; (empty string)]</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`FGet`, value is a :obj:`str` with the method name for</span>
    <span class="c1">#:       the attribute getter [default: &quot;get&quot;&lt;controller attribute name&gt;]</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`FSet`, value is a :obj:`str` with the method name for</span>
    <span class="c1">#:       the attribute setter. [default, if :obj:`Access` = &quot;read_write&quot;:</span>
    <span class="c1">#:       &quot;set&quot;&lt;controller attribute name&gt;]</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`DefaultValue`, value is a python object or None if no</span>
    <span class="c1">#:       default value exists for the attribute. If given, the attribute is</span>
    <span class="c1">#:       set when the controller is first created.</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Memorize`, value is a :obj:`str` with possible values:</span>
    <span class="c1">#:       :obj:`Memorized`, :obj:`MemorizedNoInit` and</span>
    <span class="c1">#:       :obj:`NotMemorized` [default: :obj:`Memorized`]</span>
    <span class="c1">#:</span>
    <span class="c1">#:       .. versionadded:: 1.1</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`MaxDimSize`, value is a :obj:`tuple` with possible values:</span>
    <span class="c1">#:         - for scalar **must** be an empty tuple ( () or [] )</span>
    <span class="c1">#:           [default: ()]</span>
    <span class="c1">#:         - for 1D arrays a sequence with one value (example: (1024,))</span>
    <span class="c1">#:           [default: (2048,)]</span>
    <span class="c1">#:         - for 1D arrays a sequence with two values (example: (1024, 1024))</span>
    <span class="c1">#:           [default: (2048, 2048)]</span>
    <span class="c1">#:</span>
    <span class="c1">#:       .. versionadded:: 1.1</span>
    <span class="c1">#:</span>
    <span class="c1">#: .. versionadded:: 1.0</span>
    <span class="c1">#:</span>
    <span class="c1">#: Example::</span>
    <span class="c1">#:</span>
    <span class="c1">#:     from sardana.pool.controller import PseudoMotorController, \</span>
    <span class="c1">#:         Type, Description, DefaultValue, DataAccess</span>
    <span class="c1">#:</span>
    <span class="c1">#:     class HKLCtrl(PseudoMotorController):</span>
    <span class="c1">#:</span>
    <span class="c1">#:         ctrl_attributes = \</span>
    <span class="c1">#:         {</span>
    <span class="c1">#:             &#39;ReflectionMatrix&#39; : { Type : ( (float,), ),</span>
    <span class="c1">#:                                    Description : &quot;The reflection matrix&quot;,</span>
    <span class="c1">#:                                    Access : DataAccess.ReadOnly,</span>
    <span class="c1">#:                                    FGet : &#39;getReflectionMatrix&#39;, },</span>
    <span class="c1">#:         }</span>
    <span class="c1">#:</span>
    <span class="c1">#:         def getReflectionMatrix(self):</span>
    <span class="c1">#:             return ( (1.0, 0.0), (0.0, 1.0) )</span>
    <span class="n">ctrl_attributes</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1">#: A :class:`dict` containning controller extra attributes for each axis</span>
    <span class="c1">#: where:</span>
    <span class="c1">#:</span>
    <span class="c1">#: - key : (:obj:`str`) axis attribute name</span>
    <span class="c1">#: - value : :class:`dict` with three :obj:`str` keys</span>
    <span class="c1">#:   (&quot;type&quot;, &quot;r/w type&quot;, &quot;description&quot; case insensitive):</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Type`, value is one of the values described in</span>
    <span class="c1">#:       :ref:`sardana-controller-data-type`</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Access`, value is one of</span>
    <span class="c1">#:       :obj:`~sardana.sardanadefs.DataAccess` (&quot;read&quot; or &quot;read_write&quot;</span>
    <span class="c1">#:       (case insensitive) strings are also accepted)</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Description`, value is a :obj:`str` description of the</span>
    <span class="c1">#:       attribute</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`DefaultValue`, value is a python object or None if no</span>
    <span class="c1">#:       default value exists for the attribute. If given, the attribute is</span>
    <span class="c1">#:       set when the axis is first created.</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`Memorize`, value is a :obj:`str` with possible values:</span>
    <span class="c1">#:       :obj:`Memorized`, :obj:`MemorizedNoInit` and</span>
    <span class="c1">#:       :obj:`NotMemorized` [default: :obj:`Memorized`]</span>
    <span class="c1">#:</span>
    <span class="c1">#:       .. versionadded:: 1.1</span>
    <span class="c1">#:</span>
    <span class="c1">#:     - for :obj:`MaxDimSize`, value is a :obj:`tuple` with possible values:</span>
    <span class="c1">#:         - for scalar **must** be an empty tuple ( () or [] )</span>
    <span class="c1">#:           [default: ()]</span>
    <span class="c1">#:         - for 1D arrays a sequence with one value (example: (1024,))</span>
    <span class="c1">#:           [default: (2048,)]</span>
    <span class="c1">#:         - for 1D arrays a sequence with two values (example: (1024, 1024))</span>
    <span class="c1">#:           [default: (2048, 2048)]</span>
    <span class="c1">#:</span>
    <span class="c1">#:       .. versionadded:: 1.1</span>
    <span class="c1">#:</span>
    <span class="c1">#: .. versionadded:: 1.0</span>
    <span class="c1">#:</span>
    <span class="c1">#: Example::</span>
    <span class="c1">#:</span>
    <span class="c1">#:     from sardana.pool.controller import MotorController, \</span>
    <span class="c1">#:         Type, Description, DefaultValue, DataAccess</span>
    <span class="c1">#:</span>
    <span class="c1">#:     class MyMCtrl(MotorController):</span>
    <span class="c1">#:</span>
    <span class="c1">#:         axis_attributes = \</span>
    <span class="c1">#:         {</span>
    <span class="c1">#:             &#39;EncoderSource&#39; : { Type : str,</span>
    <span class="c1">#:                                 Description : &#39;motor encoder source&#39;, },</span>
    <span class="c1">#:         }</span>
    <span class="c1">#:</span>
    <span class="c1">#:         def getAxisPar(self, axis, name):</span>
    <span class="c1">#:             name = name.lower()</span>
    <span class="c1">#:             if name == &#39;encodersource&#39;:</span>
    <span class="c1">#:                 return self._encodersource[axis]</span>
    <span class="c1">#:</span>
    <span class="c1">#:         def setAxisPar(self, axis, name, value):</span>
    <span class="c1">#:             name = name.lower()</span>
    <span class="c1">#:             if name == &#39;encodersource&#39;:</span>
    <span class="c1">#:                 self._encodersource[axis] = value</span>
    <span class="n">axis_attributes</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1">#: A :class:`dict` containing the standard attributes present on each axis</span>
    <span class="c1">#: device</span>
    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#: A :obj:`str` representing the controller model name</span>
    <span class="n">model</span> <span class="o">=</span> <span class="s1">&#39;Generic&#39;</span>

    <span class="c1">#: A :obj:`str` representing the controller organization</span>
    <span class="n">organization</span> <span class="o">=</span> <span class="s1">&#39;Sardana team&#39;</span>

    <span class="c1">#: A :obj:`str` containning the path to the image file</span>
    <span class="n">image</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#: A :obj:`str` containning the path to the image logo file</span>
    <span class="n">logo</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_inst_name</span> <span class="o">=</span> <span class="n">inst</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span> <span class="o">=</span> <span class="n">Logger</span><span class="p">(</span><span class="s2">&quot;Controller.</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">inst</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="o">.</span><span class="n">log_obj</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">getLogLevel</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_args</span> <span class="o">=</span> <span class="n">args</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api_version</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_findAPIVersion</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">prop_value</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">props</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prop_name</span><span class="p">,</span> <span class="n">prop_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_findAPIVersion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;*Internal*. By default return the Pool Controller API</span>
<span class="sd">        version of the pool where the controller is running&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ControllerAPI</span>

    <span class="k">def</span> <span class="nf">_getPoolController</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;*Internal*.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_kwargs&#39;</span><span class="p">):</span>
            <span class="n">kw</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span>
            <span class="k">if</span> <span class="n">kw</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">ctrl_wr</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pool_controller&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">ctrl_wr</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">ctrl_wr</span><span class="p">()</span>

<div class="viewcode-block" id="Controller.AddDevice"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.AddDevice">[docs]</a>    <span class="k">def</span> <span class="nf">AddDevice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary. Default implementation</span>
<span class="sd">        does nothing.</span>

<span class="sd">        :param int axis: axis number&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Controller.DeleteDevice"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.DeleteDevice">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteDevice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary. Default implementation</span>
<span class="sd">        does nothing.</span>

<span class="sd">        :param int axis: axis number&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Controller.GetName"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.GetName">[docs]</a>    <span class="k">def</span> <span class="nf">GetName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. The controller instance name.</span>

<span class="sd">        :return: the controller instance name</span>
<span class="sd">        :rtype: :obj:`str`</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_inst_name</span></div>

<div class="viewcode-block" id="Controller.GetAxisName"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.GetAxisName">[docs]</a>    <span class="k">def</span> <span class="nf">GetAxisName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. The axis name.</span>

<span class="sd">        :return: the axis name</span>
<span class="sd">        :rtype: :obj:`str`</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="n">ctrl</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getPoolController</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">ctrl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ctrl</span><span class="o">.</span><span class="n">get_element</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="n">axis</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.PreStateAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.PreStateAll">[docs]</a>    <span class="k">def</span> <span class="nf">PreStateAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a read of the state of all axis.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Controller.PreStateOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.PreStateOne">[docs]</a>    <span class="k">def</span> <span class="nf">PreStateOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a read of the state of a single axis.</span>
<span class="sd">        Default implementation does nothing.</span>

<span class="sd">        :param int axis: axis number&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Controller.StateAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.StateAll">[docs]</a>    <span class="k">def</span> <span class="nf">StateAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to read the state of all selected axis.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Controller.StateOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.StateOne">[docs]</a>    <span class="k">def</span> <span class="nf">StateOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY.</span>
<span class="sd">        Called to read the state of one axis.</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`.&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;StateOne must be defined in the controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.SetCtrlPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.SetCtrlPar">[docs]</a>    <span class="k">def</span> <span class="nf">SetCtrlPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to set a parameter with a value. Default implementation sets</span>
<span class="sd">        this object member named &#39;_&#39;+parameter with the given value.</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.GetCtrlPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.GetCtrlPar">[docs]</a>    <span class="k">def</span> <span class="nf">GetCtrlPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to set a parameter with a value. Default implementation returns</span>
<span class="sd">        the value contained in this object&#39;s member named &#39;_&#39;+parameter.</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="n">parameter</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.SetAxisPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.SetAxisPar">[docs]</a>    <span class="k">def</span> <span class="nf">SetAxisPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY.</span>
<span class="sd">        Called to set a parameter with a value on the given axis. Default</span>
<span class="sd">        implementation raises :exc:`NotImplementedError`.</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;SetAxisPar must be defined in the &quot;</span>
                                  <span class="s2">&quot;controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.GetAxisPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.GetAxisPar">[docs]</a>    <span class="k">def</span> <span class="nf">GetAxisPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY.</span>
<span class="sd">        Called to get a parameter value on the given axis. Default</span>
<span class="sd">        implementation raises :exc:`NotImplementedError`.</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;GetAxisPar must be defined in the &quot;</span>
                                  <span class="s2">&quot;controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.SetAxisExtraPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.SetAxisExtraPar">[docs]</a>    <span class="k">def</span> <span class="nf">SetAxisExtraPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to set a parameter with a value on the given axis. Default</span>
<span class="sd">        implementation raises :exc:`NotImplementedError`.</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;SetAxisExtraPar must be defined in the &quot;</span>
                                  <span class="s2">&quot;controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.GetAxisExtraPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.GetAxisExtraPar">[docs]</a>    <span class="k">def</span> <span class="nf">GetAxisExtraPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to get a parameter value on the given axis. Default</span>
<span class="sd">        implementation raises :exc:`NotImplementedError`.</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;GetAxisExtraPar must be defined in the &quot;</span>
                                  <span class="s2">&quot;controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Controller.GetAxisAttributes"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.GetAxisAttributes">[docs]</a>    <span class="k">def</span> <span class="nf">GetAxisAttributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Returns a dictionary of all attributes per axis.</span>
<span class="sd">        Default implementation returns a new :class:`dict` with the standard</span>
<span class="sd">        attributes plus the :attr:`~Controller.axis_attributes`</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :return: a dict containing attribute information as defined in</span>
<span class="sd">                 :attr:`~Controller.axis_attributes`</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">standard_axis_attributes</span><span class="p">)</span>
        <span class="n">axis_attrs</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axis_attributes</span><span class="p">)</span>
        <span class="n">ret</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">axis_attrs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="Controller.SendToCtrl"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Controller.SendToCtrl">[docs]</a>    <span class="k">def</span> <span class="nf">SendToCtrl</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Sends a string to the controller.</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`.</span>

<span class="sd">        :param :obj:`str` stream: stream to be sent</span>
<span class="sd">        :return: any relevant information e.g. response of the controller</span>
<span class="sd">        :rtype: :obj:`str`&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;SendToCtrl not implemented&quot;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Startable"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Startable">[docs]</a><span class="k">class</span> <span class="nc">Startable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Startable interface. A controller for which it&#39;s axis are &#39;startable&#39;</span>
<span class="sd">    (like a motor, for example) should implement this interface</span>

<span class="sd">    .. note: Do not inherit directly from :class:`Startable`.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Startable.PreStartAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Startable.PreStartAll">[docs]</a>    <span class="k">def</span> <span class="nf">PreStartAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a start of all axis (whatever pre-start means).</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Startable.PreStartOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Startable.PreStartOne">[docs]</a>    <span class="k">def</span> <span class="nf">PreStartOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a start of the given axis (whatever pre-start means).</span>
<span class="sd">        Default implementation returns True.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param float value: new value</span>
<span class="sd">        :return: True means a successfull pre-start or False for a failure</span>
<span class="sd">        :rtype: bool&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Startable.StartOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Startable.StartOne">[docs]</a>    <span class="k">def</span> <span class="nf">StartOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to do a start of the given axis (whatever start means).</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param float value: new value&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;StartOne must be defined in the controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Startable.StartAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Startable.StartAll">[docs]</a>    <span class="k">def</span> <span class="nf">StartAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY!</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="Stopable"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable">[docs]</a><span class="k">class</span> <span class="nc">Stopable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Stopable interface. A controller for which it&#39;s axis are &#39;stoppable&#39;</span>
<span class="sd">    (like a motor, for example) should implement this interface</span>

<span class="sd">    .. note: Do not inherit directly from :class:`Stopable`.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Stopable.PreAbortAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.PreAbortAll">[docs]</a>    <span class="k">def</span> <span class="nf">PreAbortAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a abort of all axis (whatever pre-abort means).</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Stopable.PreAbortOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.PreAbortOne">[docs]</a>    <span class="k">def</span> <span class="nf">PreAbortOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a abort of the given axis (whatever pre-abort means).</span>
<span class="sd">        Default implementation returns True.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :return: True means a successfull pre-abort or False for a failure</span>
<span class="sd">        :rtype: bool&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Stopable.AbortOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.AbortOne">[docs]</a>    <span class="k">def</span> <span class="nf">AbortOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY!</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`.</span>
<span class="sd">        Aborts one of the axis</span>

<span class="sd">        :param int axis: axis number&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;AbortOne must be defined in the controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Stopable.AbortAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.AbortAll">[docs]</a>    <span class="k">def</span> <span class="nf">AbortAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Aborts all active axis of this controller.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Stopable.PreStopAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.PreStopAll">[docs]</a>    <span class="k">def</span> <span class="nf">PreStopAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a stop of all axis (whatever pre-stop means).</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Stopable.PreStopOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.PreStopOne">[docs]</a>    <span class="k">def</span> <span class="nf">PreStopOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a stop of the given axis (whatever pre-stop means).</span>
<span class="sd">        Default implementation returns True.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :return: True means a successfull pre-stop or False for a failure</span>
<span class="sd">        :rtype: bool&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Stopable.StopOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.StopOne">[docs]</a>    <span class="k">def</span> <span class="nf">StopOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Stops one of the axis.</span>
<span class="sd">        *This method is reserved for future implementation.*</span>
<span class="sd">        Default implementation calls :meth:`~Controller.AbortOne`.</span>

<span class="sd">        :param int axis: axis number</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AbortOne</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span></div>

<div class="viewcode-block" id="Stopable.StopAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Stopable.StopAll">[docs]</a>    <span class="k">def</span> <span class="nf">StopAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Stops all active axis of this controller.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="Readable"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Readable">[docs]</a><span class="k">class</span> <span class="nc">Readable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Readable interface. A controller for which it&#39;s axis are &#39;readable&#39;</span>
<span class="sd">    (like a motor, counter or 1D for example) should implement this interface</span>

<span class="sd">    .. note: Do not inherit directly from Readable.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Readable.PreReadAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Readable.PreReadAll">[docs]</a>    <span class="k">def</span> <span class="nf">PreReadAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a read of the value of all axis.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Readable.PreReadOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Readable.PreReadOne">[docs]</a>    <span class="k">def</span> <span class="nf">PreReadOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare a read of the value of a single axis.</span>
<span class="sd">        Default implementation does nothing.</span>

<span class="sd">        :param int axis: axis number&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Readable.ReadAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Readable.ReadAll">[docs]</a>    <span class="k">def</span> <span class="nf">ReadAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to read the value of all selected axis</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Readable.ReadOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Readable.ReadOne">[docs]</a>    <span class="k">def</span> <span class="nf">ReadOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY!</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :return: the axis value</span>
<span class="sd">        :rtype: object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;ReadOne must be defined in the controller&quot;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Loadable"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Loadable">[docs]</a><span class="k">class</span> <span class="nc">Loadable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Loadable interface. A controller for which it&#39;s axis are &#39;loadable&#39;</span>
<span class="sd">    (like a counter, 1D or 2D for example) should implement this interface</span>

<span class="sd">    .. note: Do not inherit directly from Loadable.&quot;&quot;&quot;</span>

    <span class="c1">#: axis of the default timer</span>
    <span class="n">default_timer</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="Loadable.PrepareOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Loadable.PrepareOne">[docs]</a>    <span class="k">def</span> <span class="nf">PrepareOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">repetitions</span><span class="p">,</span> <span class="n">latency</span><span class="p">,</span> <span class="n">nb_starts</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare the master channel axis with the measurement</span>
<span class="sd">        parameters.</span>
<span class="sd">        Default implementation does nothing.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param int repetitions: number of repetitions</span>
<span class="sd">        :param float value: integration time / monitor count</span>
<span class="sd">        :param float latency: latency time</span>
<span class="sd">        :param int nb_starts: number of starts</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Loadable.PreLoadAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Loadable.PreLoadAll">[docs]</a>    <span class="k">def</span> <span class="nf">PreLoadAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare loading the integration time / monitor value.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Loadable.PreLoadOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Loadable.PreLoadOne">[docs]</a>    <span class="k">def</span> <span class="nf">PreLoadOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">repetitions</span><span class="p">,</span> <span class="n">latency</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare loading the master channel axis with the</span>
<span class="sd">        acquisition parameters.</span>
<span class="sd">        Default implementation returns True.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param float value: integration time /monitor value</span>
<span class="sd">        :param int repetitions: number of repetitions</span>
<span class="sd">        :param float latency: latency time</span>
<span class="sd">        :return: True means a successful PreLoadOne or False for a failure</span>
<span class="sd">        :rtype: bool&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Loadable.LoadAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Loadable.LoadAll">[docs]</a>    <span class="k">def</span> <span class="nf">LoadAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to load the integration time / monitor value.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Loadable.LoadOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Loadable.LoadOne">[docs]</a>    <span class="k">def</span> <span class="nf">LoadOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">repetitions</span><span class="p">,</span> <span class="n">latency</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY!</span>
<span class="sd">        Called to load the integration time / monitor value.</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param float value: integration time /monitor value</span>
<span class="sd">        :param int repetitions: number of repetitions</span>
<span class="sd">        :param float latency: latency time</span>
<span class="sd">        :param float value: integration time /monitor value&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;LoadOne must be defined in the controller&quot;</span><span class="p">)</span></div></div>


<span class="k">class</span> <span class="nc">Referable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Referable interface. A controller for which it&#39;s axis can</span>
<span class="sd">    report data references (like a 1D or 2D for example) should implement</span>
<span class="sd">    this interface</span>

<span class="sd">    .. note: Inherit from Referable together with either OneDController or</span>
<span class="sd">        TwoDController</span>

<span class="sd">    .. note::</span>
<span class="sd">        The Referable class has been included in Sardana on a provisional</span>
<span class="sd">        basis. Backwards incompatible changes (up to and including removal</span>
<span class="sd">        of the class) may occur if deemed necessary by the core developers.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">RefOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY!</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :return: the axis value</span>
<span class="sd">        :rtype: object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;RefOne must be defined in the controller&quot;</span><span class="p">)</span>


<div class="viewcode-block" id="Synchronizer"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Synchronizer">[docs]</a><span class="k">class</span> <span class="nc">Synchronizer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Synchronizer interface. A controller for which its axis are &#39;Able to</span>
<span class="sd">    Synchronize&#39; should implement this interface</span>

<span class="sd">    .. note: Do not inherit directly from Synchronizer.&quot;&quot;&quot;</span>

<div class="viewcode-block" id="Synchronizer.PreSynchAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Synchronizer.PreSynchAll">[docs]</a>    <span class="k">def</span> <span class="nf">PreSynchAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare loading the synchronization description.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Synchronizer.PreSynchOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Synchronizer.PreSynchOne">[docs]</a>    <span class="k">def</span> <span class="nf">PreSynchOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">description</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare loading the axis with the synchronization description.</span>
<span class="sd">        Default implementation returns True.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param list&lt;dict&gt;: synchronization description</span>
<span class="sd">        :return: True means a successfull PreSynchOne or False for a failure</span>
<span class="sd">        :rtype: bool&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="Synchronizer.SynchAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Synchronizer.SynchAll">[docs]</a>    <span class="k">def</span> <span class="nf">SynchAll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to load the synchronization description.</span>
<span class="sd">        Default implementation does nothing.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Synchronizer.SynchOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.Synchronizer.SynchOne">[docs]</a>    <span class="k">def</span> <span class="nf">SynchOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">description</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY!</span>
<span class="sd">        Called to load the axis with the synchronization description.</span>
<span class="sd">        Default implementation raises :exc:`NotImplementedError`.</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param list&lt;dict&gt; description: synchronization description&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;SynchOne must be defined in the controller&quot;</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="MotorController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.MotorController">[docs]</a><span class="k">class</span> <span class="nc">MotorController</span><span class="p">(</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Startable</span><span class="p">,</span> <span class="n">Stopable</span><span class="p">,</span> <span class="n">Readable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a motor controller. Inherit from this class to implement</span>
<span class="sd">    your own motor controller for the device pool.</span>

<span class="sd">    A motor controller should support these axis parameters:</span>

<span class="sd">        - acceleration</span>
<span class="sd">        - deceleration</span>
<span class="sd">        - velocity</span>
<span class="sd">        - base_rate</span>
<span class="sd">        - step_per_unit</span>

<span class="sd">    These parameters are configured through the</span>
<span class="sd">    :meth:`~Controller.GetAxisPar`/:meth:`~Controller.SetAxisPar` API.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A constant representing no active switch.</span>
    <span class="n">NoLimitSwitch</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="c1">#: A constant representing an active *home* switch.</span>
    <span class="c1">#: You can *OR* two or more switches together. For example, to say both</span>
    <span class="c1">#: upper and lower limit switches are active::</span>
    <span class="c1">#:</span>
    <span class="c1">#:    limit_switches = self.HomeLimitSwitch | self.LowerLimitSwitch</span>
    <span class="n">HomeLimitSwitch</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1">#: A constant representing an active *upper limit* switch.</span>
    <span class="c1">#: You can *OR* two or more switches together. For example, to say both</span>
    <span class="c1">#: upper and lower limit switches are active::</span>
    <span class="c1">#:</span>
    <span class="c1">#:    limit_switches = self.UpperLimitSwitch | self.LowerLimitSwitch</span>
    <span class="n">UpperLimitSwitch</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="c1">#: A constant representing an active *lower limit* switch.</span>
    <span class="c1">#: You can *OR* two or more switches together. For example, to say both</span>
    <span class="c1">#: upper and lower limit switches are active::</span>
    <span class="c1">#:</span>
    <span class="c1">#:    limit_switches = self.UpperLimitSwitch | self.LowerLimitSwitch</span>
    <span class="n">LowerLimitSwitch</span> <span class="o">=</span> <span class="mi">4</span>

    <span class="c1">#: A :class:`dict` containing the standard attributes present on each axis</span>
    <span class="c1">#: device</span>
    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Position&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Position&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;DialPosition&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Dial Position&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Offset&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                   <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Offset&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Sign&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                 <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Sign&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Step_per_unit&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                          <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Steps per unit&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Acceleration&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Acceleration time (s)&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Deceleration&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                         <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Deceleration time (s)&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Base_rate&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                      <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Base rate&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Velocity&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Velocity&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Backlash&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Backlash&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="s1">&#39;Limit_switches&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">bool</span><span class="p">,),</span>
                           <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s2">&quot;This attribute is the motor &quot;</span>
                           <span class="s2">&quot;limit switches state. It&#39;s an array with 3 </span><span class="se">\n</span><span class="s2">&quot;</span>
                           <span class="s2">&quot;elements which are:</span><span class="se">\n</span><span class="s2">&quot;</span>
                           <span class="s2">&quot;0 - The home switch</span><span class="se">\n</span><span class="s2">&quot;</span>
                           <span class="s2">&quot;1 - The upper limit switch</span><span class="se">\n</span><span class="s2">&quot;</span>
                           <span class="s2">&quot;2 - The lower limit switch</span><span class="se">\n</span><span class="s2">&quot;</span>
                           <span class="s2">&quot;False means not active. True means active&quot;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">standard_axis_attributes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Controller</span><span class="o">.</span><span class="n">standard_axis_attributes</span><span class="p">)</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;Motor controller&#39;</span>

<div class="viewcode-block" id="MotorController.GetAxisAttributes"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.MotorController.GetAxisAttributes">[docs]</a>    <span class="k">def</span> <span class="nf">GetAxisAttributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Motor Controller API**. Override if necessary.</span>
<span class="sd">        Returns a sequence of all attributes per axis.</span>
<span class="sd">        Default implementation returns a :class:`dict` containning:</span>

<span class="sd">        - Position</span>
<span class="sd">        - DialPosition</span>
<span class="sd">        - Offset</span>
<span class="sd">        - Sign</span>
<span class="sd">        - Step_per_unit</span>
<span class="sd">        - Acceleration</span>
<span class="sd">        - Deceleration</span>
<span class="sd">        - Base_rate</span>
<span class="sd">        - Velocity</span>
<span class="sd">        - Backlash</span>
<span class="sd">        - Limit_switches</span>

<span class="sd">        plus all attributes contained in :attr:`~Controller.axis_attributes`</span>

<span class="sd">        .. note::</span>
<span class="sd">            Normally you don&#39;t need to Override this method. You just implement</span>
<span class="sd">            the class member :attr:`~Controller.axis_attributes`. Typically,</span>
<span class="sd">            you will need to Override this method in two cases:</span>

<span class="sd">                - certain axes contain a different set of extra attributes</span>
<span class="sd">                  which cannot be simply defined in</span>
<span class="sd">                  :attr:`~Controller.axis_attributes`</span>
<span class="sd">                - some axes (or all) don&#39;t implement a set of standard</span>
<span class="sd">                  moveable parameters (ex.: if a motor controller is created to</span>
<span class="sd">                  control a power supply, it may have a position (current) and</span>
<span class="sd">                  a velocity (ramp speed) but it may not have acceleration)</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :return: a dict containing attribute information as defined in</span>
<span class="sd">                 :attr:`~Controller.axis_attributes`</span>

<span class="sd">        .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">Controller</span><span class="o">.</span><span class="n">GetAxisAttributes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span></div>

<div class="viewcode-block" id="MotorController.DefinePosition"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.MotorController.DefinePosition">[docs]</a>    <span class="k">def</span> <span class="nf">DefinePosition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">position</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Motor Controller API**. Override is recommended!</span>
<span class="sd">           This method is called to load a new motor position.</span>
<span class="sd">           Default implementation does nothing.</span>
<span class="sd">        &quot;&quot;&quot;</span>
<span class="c1">#        raise NotImplementedError(&quot;DefinePosition must be defined in the &quot;</span>
<span class="c1">#                                  &quot;controller&quot;)</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="CounterTimerController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.CounterTimerController">[docs]</a><span class="k">class</span> <span class="nc">CounterTimerController</span><span class="p">(</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Readable</span><span class="p">,</span> <span class="n">Startable</span><span class="p">,</span> <span class="n">Stopable</span><span class="p">,</span>
                             <span class="n">Loadable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a counter/timer controller. Inherit from this class to</span>
<span class="sd">    implement your own counter/timer controller for the device pool.</span>

<span class="sd">    A counter timer controller should support these controller parameters:</span>

<span class="sd">        - timer</span>
<span class="sd">        - monitor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A :class:`dict` containing the standard attributes present on each axis</span>
    <span class="c1">#: device</span>
    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;IntegrationTime&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Integration time used in &#39;</span>
                                           <span class="s1">&#39;independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Timer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Timer used in independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="c1"># TODO: in case of Tango ValueBuffer type is overridden by DevEncoded</span>
        <span class="s1">&#39;ValueBuffer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value buffer&#39;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">standard_axis_attributes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Controller</span><span class="o">.</span><span class="n">standard_axis_attributes</span><span class="p">)</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;Counter/Timer controller&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">Controller</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_monitor</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_master</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_latency_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_synchronization</span> <span class="o">=</span> <span class="n">AcqSynch</span><span class="o">.</span><span class="n">SoftwareTrigger</span>

<div class="viewcode-block" id="CounterTimerController.StartOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.CounterTimerController.StartOne">[docs]</a>    <span class="k">def</span> <span class="nf">StartOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to do a start of the given axis (whatever start means).</span>

<span class="sd">        :param int axis: axis number</span>
<span class="sd">        :param float value: new value&quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="TriggerGateController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.TriggerGateController">[docs]</a><span class="k">class</span> <span class="nc">TriggerGateController</span><span class="p">(</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Synchronizer</span><span class="p">,</span> <span class="n">Stopable</span><span class="p">,</span> <span class="n">Startable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a trigger/gate controller. Inherit from this class to</span>
<span class="sd">    implement your own trigger/gate controller for the device pool.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;Trigger/Gate controller&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">Controller</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># TODO: Implement a Preparable interface and move this method</span>
    <span class="c1">#  and the Loadable.PrepareOne() there.</span>
<div class="viewcode-block" id="TriggerGateController.PrepareOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.TriggerGateController.PrepareOne">[docs]</a>    <span class="k">def</span> <span class="nf">PrepareOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nb_starts</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override if necessary.</span>
<span class="sd">        Called to prepare the trigger/gate axis with the measurement</span>
<span class="sd">        parameters.</span>
<span class="sd">        Default implementation does nothing.</span>

<span class="sd">        :param int nb_starts: number of starts</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="ZeroDController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.ZeroDController">[docs]</a><span class="k">class</span> <span class="nc">ZeroDController</span><span class="p">(</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Readable</span><span class="p">,</span> <span class="n">Stopable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a 0D controller. Inherit from this class to</span>
<span class="sd">    implement your own 0D controller for the device pool.&quot;&quot;&quot;</span>

    <span class="c1">#: A :class:`dict` containing the standard attributes present on each axis</span>
    <span class="c1">#: device</span>
    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;IntegrationTime&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Integration time used in &#39;</span>
                                           <span class="s1">&#39;independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="c1"># TODO: in case of Tango ValueBuffer type is overridden by DevEncoded</span>
        <span class="s1">&#39;ValueBuffer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value buffer&#39;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">standard_axis_attributes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Controller</span><span class="o">.</span><span class="n">standard_axis_attributes</span><span class="p">)</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;0D controller&#39;</span>

<div class="viewcode-block" id="ZeroDController.AbortOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.ZeroDController.AbortOne">[docs]</a>    <span class="k">def</span> <span class="nf">AbortOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;This method is not executed by the system.</span>
<span class="sd">        Default implementation does nothing.</span>

<span class="sd">        :param int axis: axis number&quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>


<div class="viewcode-block" id="OneDController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.OneDController">[docs]</a><span class="k">class</span> <span class="nc">OneDController</span><span class="p">(</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Readable</span><span class="p">,</span> <span class="n">Startable</span><span class="p">,</span> <span class="n">Stopable</span><span class="p">,</span> <span class="n">Loadable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a 1D controller. Inherit from this class to</span>
<span class="sd">    implement your own 1D controller for the device pool.</span>

<span class="sd">    .. versionadded:: 1.2&quot;&quot;&quot;</span>

    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;IntegrationTime&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Integration time used in &#39;</span>
                                           <span class="s1">&#39;independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Timer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Timer used in independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,),</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;maxdimsize&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">16</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,)},</span>
        <span class="c1"># TODO: in case of Tango ValueBuffer type is overridden by DevEncoded</span>
        <span class="s1">&#39;ValueBuffer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value buffer&#39;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">standard_axis_attributes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Controller</span><span class="o">.</span><span class="n">standard_axis_attributes</span><span class="p">)</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;1D controller&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">Controller</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_latency_time</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_synchronization</span> <span class="o">=</span> <span class="n">AcqSynch</span><span class="o">.</span><span class="n">SoftwareTrigger</span>

<div class="viewcode-block" id="OneDController.GetAxisPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.OneDController.GetAxisPar">[docs]</a>    <span class="k">def</span> <span class="nf">GetAxisPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY.</span>
<span class="sd">        Called to get a parameter value on the given axis.</span>

<span class="sd">        ``GetAxisPar`` with &#39;data_source&#39; parameter is deprecated since 2.8.0.</span>
<span class="sd">        Inherit from :class:`~Referable` class in order to report value</span>
<span class="sd">        references.</span>

<span class="sd">        Default implementation calls deprecated</span>
<span class="sd">        :meth:`~Controller.GetPar` which, by default, raises</span>
<span class="sd">        :exc:`NotImplementedError`.</span>

<span class="sd">        .. versionadded:: 1.2&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;data_source&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetPar</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="TwoDController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.TwoDController">[docs]</a><span class="k">class</span> <span class="nc">TwoDController</span><span class="p">(</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Readable</span><span class="p">,</span> <span class="n">Startable</span><span class="p">,</span> <span class="n">Stopable</span><span class="p">,</span> <span class="n">Loadable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a 2D controller. Inherit from this class to</span>
<span class="sd">    implement your own 2D controller for the device pool.&quot;&quot;&quot;</span>

    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;IntegrationTime&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Integration time used in &#39;</span>
                                           <span class="s1">&#39;independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Timer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Timer used in independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">((</span><span class="nb">float</span><span class="p">,),),</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span>
                  <span class="s1">&#39;maxdimsize&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">4</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)},</span>
        <span class="c1"># TODO: in case of Tango ValueBuffer type is overridden by DevEncoded</span>
        <span class="s1">&#39;ValueBuffer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value buffer&#39;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">standard_axis_attributes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Controller</span><span class="o">.</span><span class="n">standard_axis_attributes</span><span class="p">)</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;2D controller&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">Controller</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_latency_time</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="TwoDController.GetAxisPar"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.TwoDController.GetAxisPar">[docs]</a>    <span class="k">def</span> <span class="nf">GetAxisPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Controller API**. Override is MANDATORY.</span>
<span class="sd">        Called to get a parameter value on the given axis.</span>

<span class="sd">        ``GetAxisPar`` with &#39;data_source&#39; parameter is deprecated since 2.8.0.</span>
<span class="sd">        Inherit from :class:`~Referable` class in order to report value</span>
<span class="sd">        references.</span>

<span class="sd">        Default implementation calls deprecated</span>
<span class="sd">        :meth:`~Controller.GetPar` which, by default, raises</span>
<span class="sd">        :exc:`NotImplementedError`.</span>

<span class="sd">        .. versionadded:: 1.2&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">parameter</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;data_source&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">GetPar</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="PseudoController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoController">[docs]</a><span class="k">class</span> <span class="nc">PseudoController</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for all pseudo controllers.</span>

<span class="sd">    .. note: Do not inherit directly from :class:`PseudoController`.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_getElem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_or_role</span><span class="p">,</span> <span class="n">roles</span><span class="p">,</span> <span class="n">local_cache</span><span class="p">,</span> <span class="n">ids</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;*Iternal*.&quot;&quot;&quot;</span>
        <span class="n">elem</span> <span class="o">=</span> <span class="n">local_cache</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index_or_role</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">elem</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">pool</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getPoolController</span><span class="p">()</span><span class="o">.</span><span class="n">pool</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index_or_role</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">index_or_role</span>
                <span class="n">role</span> <span class="o">=</span> <span class="n">roles</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">role</span> <span class="o">=</span> <span class="n">index_or_role</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">roles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">role</span><span class="p">)</span>
            <span class="n">motor_id</span> <span class="o">=</span> <span class="n">ids</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
            <span class="n">elem</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">get_element_by_id</span><span class="p">(</span><span class="n">motor_id</span><span class="p">)</span>
            <span class="n">local_cache</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="n">local_cache</span><span class="p">[</span><span class="n">role</span><span class="p">]</span> <span class="o">=</span> <span class="n">elem</span>
        <span class="k">return</span> <span class="n">elem</span></div>


<div class="viewcode-block" id="PseudoMotorController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoMotorController">[docs]</a><span class="k">class</span> <span class="nc">PseudoMotorController</span><span class="p">(</span><span class="n">PseudoController</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a pseudo motor controller. Inherit from this class to</span>
<span class="sd">    implement your own pseudo motor controller for the device pool.</span>

<span class="sd">    Every Pseudo Motor implementation must be a subclass of this class.</span>
<span class="sd">    Current procedure for a correct implementation of a Pseudo Motor class:</span>

<span class="sd">    - mandatory:</span>
<span class="sd">        - define the class level attributes</span>
<span class="sd">          :attr:`~PseudoMotorController.pseudo_motor_roles`,</span>
<span class="sd">          :attr:`~PseudoMotorController.motor_roles`</span>
<span class="sd">        - write :meth:`~PseudoMotorController.CalcPseudo` method</span>
<span class="sd">        - write :meth:`~PseudoMotorController.CalcPhysical` method.</span>
<span class="sd">    - optional:</span>
<span class="sd">        - write :meth:`~PseudoMotorController.CalcAllPseudo` and</span>
<span class="sd">          :meth:`~PseudoMotorController.CalcAllPhysical` if great performance</span>
<span class="sd">          gain can be achived&quot;&quot;&quot;</span>

    <span class="c1">#: a sequence of strings describing the role of each pseudo motor axis in</span>
    <span class="c1">#: this controller</span>
    <span class="n">pseudo_motor_roles</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">#: a sequence of strings describing the role of each motor in  this</span>
    <span class="c1">#: controller</span>
    <span class="n">motor_roles</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">#: A :class:`dict` containing the standard attributes present on each axis</span>
    <span class="c1">#: device</span>
    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Position&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                     <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Position&#39;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;Pseudo motor controller&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__motor_role_elements</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__pseudo_motor_role_elements</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">PseudoController</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="PseudoMotorController.CalcAllPseudo"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoMotorController.CalcAllPseudo">[docs]</a>    <span class="k">def</span> <span class="nf">CalcAllPseudo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">physical_pos</span><span class="p">,</span> <span class="n">curr_pseudo_pos</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Pseudo Motor Controller API**. Override if necessary.</span>
<span class="sd">           Calculates the positions of all pseudo motors that belong to the</span>
<span class="sd">           pseudo motor system from the positions of the physical motors.</span>
<span class="sd">           Default implementation does a loop calling</span>
<span class="sd">           :meth:`PseudoMotorController.calc_pseudo` for each pseudo motor role.</span>

<span class="sd">           :param sequence&lt;float&gt; physical_pos: a sequence containing physical</span>
<span class="sd">                                                motor positions</span>
<span class="sd">           :param sequence&lt;float&gt; curr_pseudo_pos: a sequence containing the</span>
<span class="sd">                                                   current pseudo motor</span>
<span class="sd">                                                   positions</span>
<span class="sd">           :return: a sequece of pseudo motor positions (one for each pseudo</span>
<span class="sd">                    motor role)</span>
<span class="sd">           :rtype: sequence&lt;float&gt;</span>

<span class="sd">           .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pseudo_motor_roles</span><span class="p">)):</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CalcPseudo</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">physical_pos</span><span class="p">,</span> <span class="n">curr_pseudo_pos</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="PseudoMotorController.CalcAllPhysical"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoMotorController.CalcAllPhysical">[docs]</a>    <span class="k">def</span> <span class="nf">CalcAllPhysical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pseudo_pos</span><span class="p">,</span> <span class="n">curr_physical_pos</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Pseudo Motor Controller API**. Override if necessary.</span>
<span class="sd">           Calculates the positions of all motors that belong to the pseudo</span>
<span class="sd">           motor system from the positions of the pseudo motors.</span>
<span class="sd">           Default implementation does a loop calling</span>
<span class="sd">           :meth:`PseudoMotorController.calc_physical` for each motor role.</span>

<span class="sd">           :param sequence&lt;float&gt; pseudo_pos: a sequence containing pseudo motor</span>
<span class="sd">                                              positions</span>
<span class="sd">           :param sequence&lt;float&gt; curr_physical_pos: a sequence containing the</span>
<span class="sd">                                                     current physical motor</span>
<span class="sd">                                                     positions</span>
<span class="sd">           :return: a sequece of motor positions (one for each motor role)</span>
<span class="sd">           :rtype: sequence&lt;float&gt;</span>

<span class="sd">           .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">motor_roles</span><span class="p">)):</span>
            <span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CalcPhysical</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pseudo_pos</span><span class="p">,</span> <span class="n">curr_physical_pos</span><span class="p">)</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span></div>

<div class="viewcode-block" id="PseudoMotorController.CalcPseudo"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoMotorController.CalcPseudo">[docs]</a>    <span class="k">def</span> <span class="nf">CalcPseudo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">physical_pos</span><span class="p">,</span> <span class="n">curr_pseudo_pos</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Pseudo Motor Controller API**. Override is **MANDATORY**.</span>
<span class="sd">           Calculate pseudo motor position given the physical motor positions</span>

<span class="sd">           :param int axis: the pseudo motor role axis</span>
<span class="sd">           :param sequence&lt;float&gt; physical_pos: a sequence containing motor</span>
<span class="sd">                                                positions</span>
<span class="sd">           :param sequence&lt;float&gt; curr_pseudo_pos: a sequence containing the</span>
<span class="sd">                                                   current pseudo motor</span>
<span class="sd">                                                   positions</span>
<span class="sd">           :return: a pseudo motor position corresponding to the given axis</span>
<span class="sd">                    pseudo motor role</span>
<span class="sd">           :rtype: float</span>

<span class="sd">           .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;CalcPseudo must be defined in the &quot;</span>
                                  <span class="s2">&quot;controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PseudoMotorController.CalcPhysical"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoMotorController.CalcPhysical">[docs]</a>    <span class="k">def</span> <span class="nf">CalcPhysical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">pseudo_pos</span><span class="p">,</span> <span class="n">curr_physical_pos</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Pseudo Motor Controller API**. Override is **MANDATORY**.</span>
<span class="sd">           Calculate physical motor position given the pseudo motor positions.</span>

<span class="sd">           :param axis: the motor role axis</span>
<span class="sd">           :type axis: int</span>
<span class="sd">           :param pseudo_pos: a sequence containing pseudo motor positions</span>
<span class="sd">           :type pseudo_pos: sequence&lt;float&gt;</span>
<span class="sd">           :param curr_physical_pos: a sequence containing the current physical</span>
<span class="sd">                                     motor positions</span>
<span class="sd">           :type curr_physical_pos: sequence&lt;float&gt;</span>
<span class="sd">           :return: a motor position corresponding to the given axis motor role</span>
<span class="sd">           :rtype: float</span>

<span class="sd">           .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;CalcPhysical must be defined in the &quot;</span>
                                  <span class="s2">&quot;controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PseudoMotorController.GetMotor"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoMotorController.GetMotor">[docs]</a>    <span class="k">def</span> <span class="nf">GetMotor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_or_role</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the motor for a given role/index.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            * Use with care: Executing motor methods can be dangerous!</span>

<span class="sd">            * Since the controller is built before any element (including</span>
<span class="sd">              motors), this method will **FAIL** when called from the controller</span>
<span class="sd">              constructor</span>

<span class="sd">        :param index_or_role: index number or role name</span>
<span class="sd">        :type index_or_role: int or str</span>
<span class="sd">        :return: Motor object for the given role/index</span>
<span class="sd">        :rtype: :class:`~sardana.pool.poolmotor.PoolMotor`&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getElem</span><span class="p">(</span><span class="n">index_or_role</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">motor_roles</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">__motor_role_elements</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">_kwargs</span><span class="p">[</span><span class="s1">&#39;motor_ids&#39;</span><span class="p">])</span></div>

<div class="viewcode-block" id="PseudoMotorController.GetPseudoMotor"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoMotorController.GetPseudoMotor">[docs]</a>    <span class="k">def</span> <span class="nf">GetPseudoMotor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index_or_role</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns the pseudo motor for a given role/index.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            * Use with care: Executing pseudo motor methods can be dangerous!</span>

<span class="sd">            * Since the controller is built before any element (including pseudo</span>
<span class="sd">              motors), this method will **FAIL** when called from the controller</span>
<span class="sd">              constructor</span>

<span class="sd">        :param index_or_role: index number or role name</span>
<span class="sd">        :type index_or_role: int or str</span>
<span class="sd">        :return: PseudoMotor object for the given role/index</span>
<span class="sd">        :rtype: :class:`~sardana.pool.poolpseudomotor.PoolPseudoMotor`&quot;&quot;&quot;</span>
        <span class="n">dict_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getPoolController</span><span class="p">()</span><span class="o">.</span><span class="n">get_element_ids</span><span class="p">()</span>
        <span class="n">dict_axis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getPoolController</span><span class="p">()</span><span class="o">.</span><span class="n">get_element_axis</span><span class="p">()</span>
        <span class="n">pseudo_motor_ids</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">akey</span><span class="p">,</span> <span class="n">aname</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">dict_axis</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">pseudo_motor_ids</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="nb">list</span><span class="p">(</span><span class="n">dict_ids</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="nb">list</span><span class="p">(</span><span class="n">dict_ids</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">aname</span><span class="p">)])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getElem</span><span class="p">(</span><span class="n">index_or_role</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pseudo_motor_roles</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">__pseudo_motor_role_elements</span><span class="p">,</span>
                             <span class="n">pseudo_motor_ids</span><span class="p">)</span></div></div>
<span class="c1">#                             self._kwargs[&#39;pseudo_motor_roles&#39;])</span>


<div class="viewcode-block" id="PseudoCounterController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoCounterController">[docs]</a><span class="k">class</span> <span class="nc">PseudoCounterController</span><span class="p">(</span><span class="n">Controller</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a pseudo counter controller. Inherit from this class to</span>
<span class="sd">    implement your own pseudo counter controller for the device pool.</span>

<span class="sd">    Every Pseudo Counter implementation must be a subclass of this class.</span>
<span class="sd">    Current procedure for a correct implementation of a Pseudo Counter class:</span>

<span class="sd">    - mandatory:</span>
<span class="sd">        - define the class level attributes</span>
<span class="sd">          :attr:`~PseudoCounterController.counter_roles`,</span>
<span class="sd">        - write :meth:`~PseudoCounterController.Calc` method&quot;&quot;&quot;</span>

    <span class="c1">#: a sequence of strings describing the role of each pseudo counter axis in</span>
    <span class="c1">#: this controller</span>
    <span class="n">pseudo_counter_roles</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">#: a sequence of strings describing the role of each counter in this</span>
    <span class="c1">#: controller</span>
    <span class="n">counter_roles</span> <span class="o">=</span> <span class="p">()</span>

    <span class="c1">#: A :class:`dict` containing the standard attributes present on each axis</span>
    <span class="c1">#: device</span>
    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;IntegrationTime&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Integration time used in &#39;</span>
                                           <span class="s1">&#39;independent acquisition&#39;</span><span class="p">},</span>
        <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span> <span class="p">},</span>
        <span class="c1"># TODO: in case of Tango ValueBuffer type is overridden by DevEncoded</span>
        <span class="s1">&#39;ValueBuffer&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Data&#39;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;Pseudo counter controller&#39;</span>

<div class="viewcode-block" id="PseudoCounterController.Calc"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoCounterController.Calc">[docs]</a>    <span class="k">def</span> <span class="nf">Calc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Pseudo Counter Controller API**. Override is **MANDATORY**.</span>
<span class="sd">           Calculate pseudo counter position given the counter values.</span>

<span class="sd">           :param int axis: the pseudo counter role axis</span>
<span class="sd">           :param sequence&lt;float&gt; values: a sequence containing current values</span>
<span class="sd">                                          of underlying elements</span>
<span class="sd">           :return: a pseudo counter value corresponding to the given axis</span>
<span class="sd">                    pseudo counter role</span>
<span class="sd">           :rtype: float</span>

<span class="sd">           .. versionadded:: 1.0&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Calc must be defined in the controller&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="PseudoCounterController.CalcAll"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.PseudoCounterController.CalcAll">[docs]</a>    <span class="k">def</span> <span class="nf">CalcAll</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**Pseudo Counter Controller API**. Override if necessary.</span>
<span class="sd">           Calculates all pseudo counter values from the values of counters.</span>
<span class="sd">           Default implementation does a loop calling</span>
<span class="sd">           :meth:`PseudoCounterController.Calc` for each pseudo counter role.</span>

<span class="sd">           :param sequence&lt;float&gt; values: a sequence containing current values</span>
<span class="sd">                                          of underlying elements</span>
<span class="sd">           :return: a sequece of pseudo counter values (one for each pseudo</span>
<span class="sd">                    counter role)</span>
<span class="sd">           :rtype: sequence&lt;float&gt;</span>

<span class="sd">           .. versionadded:: 1.2&quot;&quot;&quot;</span>
        <span class="n">f</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">Calc</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pseudo_counter_roles</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">f</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)]</span></div></div>


<div class="viewcode-block" id="IORegisterController"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.IORegisterController">[docs]</a><span class="k">class</span> <span class="nc">IORegisterController</span><span class="p">(</span><span class="n">Controller</span><span class="p">,</span> <span class="n">Readable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Base class for a IORegister controller. Inherit from this class to</span>
<span class="sd">    implement your own IORegister controller for the device pool.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: A :class:`dict` containing the standard attributes present on each axis</span>
    <span class="c1">#: device</span>
    <span class="n">standard_axis_attributes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                  <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;Value&#39;</span><span class="p">,</span> <span class="p">},</span>
    <span class="p">}</span>
    <span class="n">standard_axis_attributes</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Controller</span><span class="o">.</span><span class="n">standard_axis_attributes</span><span class="p">)</span>

    <span class="c1">#: A :obj:`str` representing the controller gender</span>
    <span class="n">gender</span> <span class="o">=</span> <span class="s1">&#39;I/O register controller&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">Controller</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="IORegisterController.WriteOne"><a class="viewcode-back" href="../../../devel/api/sardana/pool/controller.html#sardana.pool.controller.IORegisterController.WriteOne">[docs]</a>    <span class="k">def</span> <span class="nf">WriteOne</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;**IORegister Controller API**. Override if necessary.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Except where otherwise noted, content on this site is
licensed under a Creative Commons Attribution 3.0 License

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>