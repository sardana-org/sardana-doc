

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to write a pseudo motor controller &mdash; sardana 3.0.2-alpha documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="sardana 3.0.2-alpha documentation" href="../../index.html"/>
        <link rel="up" title="Writing controllers" href="index.html"/>
        <link rel="next" title="How to write a pseudo counter controller" href="howto_pseudocountercontroller.html"/>
        <link rel="prev" title="How to write an I/O register controller" href="howto_ioregistercontroller.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> sardana
          

          
            
            <img src="../../_static/logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://www.sardana-controls.org">Home Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sardana-org/sardana">Project Page</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pypi.python.org/pypi/sardana">Download from PyPI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../docs.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../users/index.html">User&#8217;s Guide</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Developer&#8217;s Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto_macros/index.html">Writing macros</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Writing controllers</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="howto_controller.html">What is a controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_motorcontroller.html">How to write a motor controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_countertimercontroller.html">How to write a counter/timer controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_0dcontroller.html">How to write a 0D controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_1dcontroller.html">How to write a 1D controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_2dcontroller.html">How to write a 2D controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_triggergatecontroller.html">How to write a trigger/gate controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_ioregistercontroller.html">How to write an I/O register controller</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">How to write a pseudo motor controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="howto_pseudocountercontroller.html">How to write a pseudo counter controller</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../howto_recorders.html">Writing recorders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto_test/index.html">Sardana Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/api_sardana.html">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guide_migration.html">Migration guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guide_coding.html">Development guidelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sep/index.html">Sardana Enhancement Proposals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_versions.html">Docs for other Sardana versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana-plugins">Plugins Catalogue</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana/wiki">Wiki</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">sardana</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../docs.html">Sardana 3.0 Documentation</a> &raquo;</li>
      
          <li><a href="../index.html">Developer&#8217;s Guide</a> &raquo;</li>
      
          <li><a href="index.html">Writing controllers</a> &raquo;</li>
      
    <li>How to write a pseudo motor controller</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/devel/howto_controllers/howto_pseudomotorcontroller.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-write-a-pseudo-motor-controller">
<span id="sardana-pseudomotorcontroller-howto-basics"></span><h1>How to write a pseudo motor controller<a class="headerlink" href="#how-to-write-a-pseudo-motor-controller" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes how to write a valid Python pseudo motor system
class.</p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Before writing the first Python pseudo motor class for your Device
Pool two checks must be performed:</p>
<ol class="arabic">
<li><p class="first">The device pool <strong>PoolPath</strong> property must exist and must point to the
directory which will contain your Python pseudo motor module. The syntax of
this <strong>PoolPath</strong> property is one directory per line.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Please see <a class="reference internal" href="../api/api_pool.html#sardana-pool-api-poolpath"><span class="std std-ref">pool path</span></a>
for more information on setting this property.</p>
</div>
</li>
<li><p class="first">A <code class="docutils literal"><span class="pre">poolpseudomotor.py</span></code> file is part of the Device Pool distribution and is
located within the <a class="reference internal" href="../api/sardana/pool.html#module-sardana.pool" title="sardana.pool"><code class="xref py py-mod docutils literal"><span class="pre">sardana.pool</span></code></a> module. The directory containing this
module must be in the PYTHONPATH environment variable or it must be part of
the <strong>PoolPath</strong> Device Pool property mentioned above.</p>
</li>
</ol>
</div>
<div class="section" id="rules">
<h2>Rules<a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h2>
<p>A correct pseudo motor system class must obey the following rules:</p>
<ol class="arabic">
<li><p class="first">The pseudo motor system class being written must be a subclass of the
PseudoMotorController class from <a class="reference internal" href="../api/sardana/pool/controller.html#module-sardana.pool.controller" title="sardana.pool.controller"><code class="xref py py-mod docutils literal"><span class="pre">sardana.pool.controller</span></code></a> module
(see example <a class="reference internal" href="#pseudomotor-example"><span class="std std-ref">below</span></a>).</p>
</li>
<li><p class="first">The class variable <strong>motor_roles</strong> should be a tuple of motor role name.
The number of elements in this tuple will determine the number of required
motors for this pseudo motor class. The order in which the roles are defined
is also important as it will determine the index of the motors in the pseudo
motor system.</p>
</li>
<li><p class="first">The class variable <strong>pseudo_motor_roles</strong> must be set if the pseudo motor
class being written represents more than one pseudo motor. This variable
must contain a tuple of pseudo motor role names.
The order in which the roles are defined will determine the index of the
pseudo motors in the pseudo motor system. If the pseudo motor class
represents only one pseudo motor then this operation is optional.
If omitted, the value of pseudo_motor_roles will be set to the class name.</p>
</li>
<li><p class="first">In case the pseudo motor class needs special properties or attributes,
it exist the possibility of defining them as explained in the section
<a class="reference internal" href="howto_controller.html#sardana-controller-howto-axis-attributes"><span class="std std-ref">Extra axis attributes</span></a> and
<a class="reference internal" href="howto_controller.html#sardana-controller-howto-controller-attributes"><span class="std std-ref">Extra controller attributes</span></a>.</p>
</li>
<li><p class="first">The pseudo motor class must implement a <strong>CalcPseudo</strong> method with the
following signature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">number</span> <span class="o">=</span> <span class="n">CalcPseudo</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">physical_pos</span><span class="p">,</span> <span class="n">curr_pseudo_pos</span><span class="p">)</span>
</pre></div>
</div>
<p>The method will receive as argument the index of the pseudo motor for
which the pseudo position calculation is requested. This number refers
to the index in the pseudo_motor_roles class variable.</p>
<p>The physical_pos is a tuple containing the motor positions.</p>
<p>The method body should contain a code to translate the given motor
positions into pseudo motor positions.</p>
<p>The method will return a number representing the calculated pseudo
motor position.</p>
</li>
<li><p class="first">The pseudo motor class must implement a <strong>CalcPhysical</strong> method with the
following signature:</p>
<blockquote>
<div><div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">number</span> <span class="o">=</span> <span class="n">CalcPhysical</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">pseudo_pos</span><span class="p">,</span> <span class="n">curr_physical_pos</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<p>The method will receive as argument the index of the motor for which
the physical position calculation is requested. This number refers to
the index in the motor_roles class variable.</p>
<p>The pseudo_pos is a tuple containing the pseudo motor positions.</p>
<p>The method body should contain a code to translate the given pseudo
motor positions into motor positions.</p>
<p>The method will return a number representing the calculated motor position.</p>
</li>
<li><p class="first">Optional implementation of <strong>CalcAllPseudo</strong> method with the following
signature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">()</span><span class="o">/</span><span class="p">[]</span><span class="o">/</span><span class="n">number</span> <span class="o">=</span> <span class="n">CalcAllPseudo</span><span class="p">(</span><span class="n">physical_pos</span><span class="p">,</span> <span class="n">curr_pseudo_pos</span><span class="p">)</span>
</pre></div>
</div>
<p>The method will receive as argument a physical_pos which is a tuple of
motor positions.</p>
<p>The method will return a tuple or a list of calculated pseudo motor
positions. If the pseudo motor class represents a single pseudo motor
then the return value could be a single number.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">At the time of writing this documentation, the method
<strong>CalcAllPseudo</strong> is not used. Is still available for backward
compatibility.</p>
</div>
</li>
<li><p class="first">Optional implementation of <strong>CalcAllPhysical</strong> method with the following
signature:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">()</span><span class="o">/</span><span class="p">[]</span><span class="o">/</span><span class="n">number</span> <span class="o">=</span> <span class="n">CalcAllPhysical</span><span class="p">(</span><span class="n">pseudo_pos</span><span class="p">,</span> <span class="n">curr_physical_pos</span><span class="p">)</span>
</pre></div>
</div>
<p>The method will receive as argument a pseudo_pos which is a tuple of
pseudo motor positions.</p>
<p>The method will return a tuple or a list of calculated motor
positions. If the pseudo motor class requires a single motor then the
return value could be a single number.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default implementation <strong>CalcAllPhysical</strong> and
<strong>CalcAllPseudo</strong> methods will call CalcPhysical and CalcPseudo
for each motor and physical motor respectively. Overwriting the
default implementation should only be done if a gain in performance
can be obtained.</p>
</div>
</li>
</ol>
<div class="section" id="example">
<span id="pseudomotor-example"></span><h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>One of the most basic examples is the control of a slit. The slit has
two blades with one motor each. Usually the user doesn&#8217;t want to
control the experiment by directly handling these two motor positions
since their have little meaning from the experiments perspective.</p>
<img alt="../../_images/gap_offset.png" src="../../_images/gap_offset.png" />
<p>Instead, it would be more useful for the user to control the
experiment by means of changing the gap and offset values. Pseudo
motors gap and offset will provide the necessary interface for
controlling the experiments gap and offset values respectively.</p>
<p>The calculations that need to be performed are:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">gap</span> <span class="o">=</span> <span class="n">sl2t</span><span class="o">+</span><span class="n">sl2b</span>
<span class="n">offset</span> <span class="o">=</span> <span class="p">(</span><span class="n">sl2t</span><span class="o">-</span><span class="n">sl2b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sl2t</span> <span class="o">=</span> <span class="o">-</span><span class="n">offset</span> <span class="o">+</span> <span class="n">gap</span><span class="o">/</span><span class="mi">2</span>
<span class="n">sl2b</span> <span class="o">=</span> <span class="n">offset</span> <span class="o">+</span> <span class="n">gap</span><span class="o">/</span><span class="mi">2</span>
</pre></div>
</div>
<p>The corresponding Python code would be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;This module contains the definition of a slit pseudo motor controller</span>
<span class="sd">for the Sardana Device Pool&quot;&quot;&quot;</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Slit&quot;</span><span class="p">]</span>

<span class="n">__docformat__</span> <span class="o">=</span> <span class="s1">&#39;restructuredtext&#39;</span>

<span class="kn">from</span> <span class="nn">sardana</span> <span class="k">import</span> <span class="n">DataAccess</span>
<span class="kn">from</span> <span class="nn">sardana.pool.controller</span> <span class="k">import</span> <span class="n">PseudoMotorController</span>
<span class="kn">from</span> <span class="nn">sardana.pool.controller</span> <span class="k">import</span> <span class="n">DefaultValue</span><span class="p">,</span> <span class="n">Description</span><span class="p">,</span> <span class="n">Access</span><span class="p">,</span> <span class="n">Type</span>


<span class="k">class</span> <span class="nc">Slit</span><span class="p">(</span><span class="n">PseudoMotorController</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A Slit pseudo motor controller for handling gap and offset pseudo</span>
<span class="sd">    motors. The system uses to real motors sl2t (top slit) and sl2b (bottom</span>
<span class="sd">    slit)&quot;&quot;&quot;</span>

    <span class="n">gender</span> <span class="o">=</span> <span class="s2">&quot;Slit&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="s2">&quot;Default Slit&quot;</span>
    <span class="n">organization</span> <span class="o">=</span> <span class="s2">&quot;Sardana team&quot;</span>

    <span class="n">pseudo_motor_roles</span> <span class="o">=</span> <span class="s2">&quot;Gap&quot;</span><span class="p">,</span> <span class="s2">&quot;Offset&quot;</span>
    <span class="n">motor_roles</span> <span class="o">=</span> <span class="s2">&quot;sl2t&quot;</span><span class="p">,</span> <span class="s2">&quot;sl2b&quot;</span>

    <span class="n">ctrl_properties</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sign&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">Type</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                                <span class="n">Description</span><span class="p">:</span> <span class="s1">&#39;Gap = sign * calculated gap</span><span class="se">\n</span><span class="s1">Offset = sign * calculated offet&#39;</span><span class="p">,</span>
                                <span class="n">DefaultValue</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="p">}</span>

    <span class="n">axis_attributes</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;example&#39;</span><span class="p">:</span> <span class="p">{</span><span class="n">Type</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                                <span class="n">Access</span><span class="p">:</span> <span class="n">DataAccess</span><span class="o">.</span><span class="n">ReadWrite</span><span class="p">,</span>
                                <span class="n">Description</span><span class="p">:</span> <span class="s1">&#39;test purposes&#39;</span><span class="p">},</span> <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">PseudoMotorController</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="n">props</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Created SLIT </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">inst</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_example</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">CalcPhysical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">pseudo_pos</span><span class="p">,</span> <span class="n">curr_physical_pos</span><span class="p">):</span>
        <span class="n">half_gap</span> <span class="o">=</span> <span class="n">pseudo_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign</span> <span class="o">*</span> <span class="p">(</span><span class="n">pseudo_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">half_gap</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign</span> <span class="o">*</span> <span class="p">(</span><span class="n">half_gap</span> <span class="o">-</span> <span class="n">pseudo_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;Slit.CalcPhysical(</span><span class="si">%d</span><span class="s2">, </span><span class="si">%s</span><span class="s2">) -&gt; </span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">,</span>
                        <span class="n">index</span><span class="p">,</span> <span class="n">pseudo_pos</span><span class="p">,</span> <span class="n">ret</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">CalcPseudo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">physical_pos</span><span class="p">,</span> <span class="n">curr_pseudo_pos</span><span class="p">):</span>
        <span class="n">gap</span> <span class="o">=</span> <span class="n">physical_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">physical_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign</span> <span class="o">*</span> <span class="n">gap</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ret</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sign</span> <span class="o">*</span> <span class="p">(</span><span class="n">physical_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">gap</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">ret</span>

    <span class="k">def</span> <span class="nf">CalcAllPseudo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">physical_pos</span><span class="p">,</span> <span class="n">curr_pseudo_pos</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Calculates the positions of all pseudo motors that belong to the</span>
<span class="sd">        pseudo motor system from the positions of the physical motors.&quot;&quot;&quot;</span>
        <span class="n">gap</span> <span class="o">=</span> <span class="n">physical_pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">physical_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sign</span> <span class="o">*</span> <span class="n">gap</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sign</span> <span class="o">*</span> <span class="p">(</span><span class="n">physical_pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">gap</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">SetAxisExtraPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_example</span><span class="p">[</span><span class="n">axis</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">GetAxisExtraPar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">parameter</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_example</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">For more details on pseudo motors please refer to
<a class="reference internal" href="../api/api_pseudomotor.html#sardana-pseudomotor-api"><span class="std std-ref">Pseudo motor API reference</span></a></p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="howto_pseudocountercontroller.html" class="btn btn-neutral float-right" title="How to write a pseudo counter controller" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="howto_ioregistercontroller.html" class="btn btn-neutral" title="How to write an I/O register controller" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Except where otherwise noted, content on this site is
licensed under a Creative Commons Attribution 3.0 License.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'3.0.2-alpha',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>