

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>v2 -&gt; v3 &mdash; sardana 3.0.4-alpha documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="v0 -&gt; v1" href="0to1.html" />
    <link rel="prev" title="Sardana migration guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> sardana
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://www.sardana-controls.org">Home Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sardana-org/sardana">Project Page</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pypi.python.org/pypi/sardana">Download from PyPI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../docs.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../users/index.html">User’s Guide</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Developer’s Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto_macros/index.html">Writing macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto_controllers/index.html">Writing controllers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto_recorders.html">Writing recorders</a></li>
<li class="toctree-l3"><a class="reference internal" href="../howto_test/index.html">Sardana Testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api/api_sardana.html">API</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Migration guide</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">v2 -&gt; v3</a></li>
<li class="toctree-l4"><a class="reference internal" href="0to1.html">v0 -&gt; v1</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guide_coding.html">Development guidelines</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../sep/index.html">Sardana Enhancement Proposals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_versions.html">Docs for other Sardana versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana-plugins">Plugins Catalogue</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana/wiki">Wiki</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">sardana</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../docs.html">Sardana 3.0 Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Developer’s Guide</a> &raquo;</li>
        
          <li><a href="index.html">Sardana migration guide</a> &raquo;</li>
        
      <li>v2 -&gt; v3</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/devel/guide_migration/2to3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v2-v3">
<span id="to3"></span><h1>v2 -&gt; v3<a class="headerlink" href="#v2-v3" title="Permalink to this headline">¶</a></h1>
<p>Sardana v3 is the first Sardana release which <strong>only</strong> supports Python 3.5 or
higher. Due to the dropping of support to Python 2 Sardana v3 is not backwards
compatible with the previous versions. Below you can find
the incompatibilities and the necessary migration steps.</p>
<div class="section" id="macroserver-environment">
<h2>MacroServer environment<a class="headerlink" href="#macroserver-environment" title="Permalink to this headline">¶</a></h2>
<p>Environments created with Python 2 needs to be ported to Python 3.
In order to do that you can use the
<a class="reference external" href="https://github.com/sardana-org/sardana/blob/develop/scripts/upgrade/upgrade_env.py">upgrade_env.py</a> script.</p>
<p>This requires a choice of the shelve backend (either gnu or dumb)
at the moment of migration. The same decision is also important for new
Sardana systems. In this last case it can be tuned with this
<a class="reference internal" href="../../users/configuration/sardanacustomsettings.html#sardana.sardanacustomsettings.MS_ENV_SHELVE_BACKEND" title="sardana.sardanacustomsettings.MS_ENV_SHELVE_BACKEND"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MS_ENV_SHELVE_BACKEND</span></code></a>.</p>
</div>
<div class="section" id="plugins-migration-to-python-3">
<h2>Plugins migration to Python 3<a class="headerlink" href="#plugins-migration-to-python-3" title="Permalink to this headline">¶</a></h2>
<p>Sardana plugins (macros, controllers and recorders) and all their dependencies
e.g. external libraries, needs to be migrated to Python 3. You can find hints
on how to pass this process in this
<a class="reference external" href="https://alba-synchrotron.gitlab.io/controls-section/slides_py2to3#4">ALBA’s internal presentation</a>
(slides 4 - 34).</p>
</div>
<div class="section" id="guis-migration-to-python-3">
<h2>GUIs migration to Python 3<a class="headerlink" href="#guis-migration-to-python-3" title="Permalink to this headline">¶</a></h2>
<p>Sardana-Taurus GUIs which use the <a class="reference internal" href="../../users/taurus/macrobutton.html#macrobutton"><span class="std std-ref">MacroButton</span></a> and all
their dependencies e.g. external libraries, needs to be migrated to Python 3.
It has not been observed that other
<a class="reference internal" href="../../users/taurus/index.html#sardana-taurus"><span class="std std-ref">Sardana-Taurus widgets</span></a> require their GUIs to be migrated.</p>
</div>
<div class="section" id="other-non-python-3-related-incompatibilities">
<h2>Other (non Python 3 related) incompatibilities<a class="headerlink" href="#other-non-python-3-related-incompatibilities" title="Permalink to this headline">¶</a></h2>
<p>Sardana v3 was reduced by long time ago deprecated features. You can
find a list of them together with the suggested substitutes in this
<a class="reference external" href="https://github.com/sardana-org/sardana/issues/1315">table</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="0to1.html" class="btn btn-neutral float-right" title="v0 -&gt; v1" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Sardana migration guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Except where otherwise noted, content on this site is
licensed under a Creative Commons Attribution 3.0 License

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>