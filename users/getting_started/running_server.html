

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Running Sardana as a tango server &mdash; sardana 3.0.3 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Running the client" href="running_cli.html" />
    <link rel="prev" title="Installing" href="installing.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> sardana
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://www.sardana-controls.org">Home Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sardana-org/sardana">Project Page</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pypi.python.org/pypi/sardana">Download from PyPI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../docs.html">Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">User’s Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Getting started</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="installing.html">Installing</a></li>
<li class="toctree-l4"><a class="reference internal" href="installing.html#working-directly-from-git">Working directly from Git</a></li>
<li class="toctree-l4"><a class="reference internal" href="installing.html#dependencies">Dependencies</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Running the server</a></li>
<li class="toctree-l4"><a class="reference internal" href="running_cli.html">Running the client</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../spock.html">Spock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../taurus/index.html">Sardana-Taurus Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scan.html">Scans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../motion.html">Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../acquisition.html">Acquisition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diffractometer.html">Diffractometer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adding_elements.html">Adding real elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../macro_hooks.html">Macro Hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../macro_environment.html">Macro Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../macro_logging_and_reports.html">Macro Logging and Reports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../environment_variable_catalog.html">Environment Variable Catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standard_macro_catalog.html">Standard macro catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/sardana-org/sardana/issues?q=is:issue+is:open+label:doc:knownbug">Known Problems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../devel/index.html">Developer’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sep/index.html">Sardana Enhancement Proposals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_versions.html">Docs for other Sardana versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana-plugins">Plugins Catalogue</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana/wiki">Wiki</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">sardana</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../docs.html">Sardana 3.0 Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">User’s Guide</a> &raquo;</li>
        
          <li><a href="index.html">Getting started</a> &raquo;</li>
        
      <li>Running Sardana as a tango server</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/users/getting_started/running_server.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="running-sardana-as-a-tango-server">
<span id="sardana-getting-started-running-server"></span><h1>Running Sardana as a tango server<a class="headerlink" href="#running-sardana-as-a-tango-server" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>if you have Tango &lt;= 7.2.6 without all patches applied, Sardana server
will not work due to a known bug. Please follow the instructions from
<a class="reference internal" href="#sardana-getting-started-running-servers-separately"><span class="std std-ref">Running Pool and MacroServer tango servers separately</span></a> instead.</p>
</div>
<p>Sardana is based on a client-server architecture. On the server part, sardana
can be setup with many different configurations. Advanced details on sardana
server configuration can be found here <strong>&lt;LINK&gt;</strong>.</p>
<p>This chapter describes how to run sardana server with it’s simplest
configuration. The only decision you have to make is which name you will give
to your system. From here on <em>lab-01</em> will be used as the system name. Please
replace this name with your own system name whenever apropriate.</p>
<p>The sardana server is called (guess what) <em>Sardana</em>. To start the server just
type in the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>homer@pc001:~$ Sardana lab-01
</pre></div>
</div>
<p>The first time the server is executed, it will inform you that server <em>lab-01</em>
is not registered and it will offer to register it. Just answer ‘y’. This will
register a new instance of Sardana called <em>lab-01</em> and the server will be
started. You should get an output like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>homer@pc001:~$ Sardana lab-01
lab-01 does not exist. Do you wish create a new one (Y/n) ? y
DServer/Sardana/Lab-01 has no event channel defined in the database - creating it
</pre></div>
</div>
<p>That’t it! You now have a running sardana server. Not very impressive, is it?
The <a class="reference internal" href="running_cli.html#sardana-getting-started-running-cli"><span class="std std-ref">Running the client</span></a> chapter describes how to start up a
<a class="reference internal" href="../../glossary.html#term-CLI"><span class="xref std std-term">CLI</span></a> application called <em>spock</em> which connects to the sardana server you
have just started through an object of type <em>Door</em> called <em>Door_lab-01_1</em>.</p>
<p>You can therefore skip the next chapter and go directly to
<a class="reference internal" href="running_cli.html#sardana-getting-started-running-cli"><span class="std std-ref">Running the client</span></a>.</p>
<div class="section" id="running-pool-and-macroserver-tango-servers-separately">
<span id="sardana-getting-started-running-servers-separately"></span><h2>Running Pool and MacroServer tango servers separately<a class="headerlink" href="#running-pool-and-macroserver-tango-servers-separately" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You should only read this chapter if you have Tango &lt;= 7.2.6
without all patches applied. If you do, please follow in instructions from
<a class="reference internal" href="#sardana-getting-started-running-server"><span class="std std-ref">Running Sardana as a tango server</span></a> instead.</p>
</div>
<p>It is possible to separate sardana server into two different servers (in the
first sardana versions, this was actually the only way start the sardana
system). These servers are called <em>Pool</em> and <em>MacroServer</em>. The <em>Pool</em> server
takes care of hardware communication and <em>MacroServer</em> executes procedures
(macros) using a connection to Pool(s) server(s).</p>
<p>To start the Pool server just type in the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>homer@pc001:~$ Pool lab-01
</pre></div>
</div>
<p>The first time the server is executed, it will inform you that server <em>lab-01</em>
is not registered and it will offer to register it. Just answer ‘y’. This will
register a new instance of Pool called <em>lab-01</em> and the server will be
started. You should get an output like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>homer@pc001:~$ Pool lab-01
lab-01 does not exist. Do you wish create a new one (Y/n) ? y
DServer/Pool/Lab-01 has no event channel defined in the database - creating it
</pre></div>
</div>
<p>Next, start the MacroServer server in the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>homer@pc001:~$ MacroServer lab-01
</pre></div>
</div>
<p>The first time the server is executed, it will inform you that server <em>lab-01</em>
is not registered and it will offer to register it. Just answer ‘y’. Next, it
will ask you to which Pool(s) you want your MacroServer to communicate with.
Select the previously created Pool from the list, press <kbd class="kbd docutils literal notranslate">Return</kbd> once and
<kbd class="kbd docutils literal notranslate">Return</kbd> again to finish with Pool selection. This will register a new
instance of MacroServer called <em>lab-01</em> and the server will be started.
You should get an output like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>homer@pc001:~$ MacroServer lab-01
lab-01 does not exist. Do you wish create a new one (Y/n) ?
Pool_lab-01_1 (a.k.a. Pool/lab-01/1) (running)
Please select pool to connect to (return to finish): Pool_lab-01_1
Please select pool to connect to (return to finish):
DServer/MacroServer/lab-01 has no event channel defined in the database - creating it
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For configuring server to listen for CORBA requests on a given port
see <a class="reference internal" href="../configuration/server.html#sardana-configuration-server"><span class="std std-ref">Sardana server configuration</span></a> chapter.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="running_cli.html" class="btn btn-neutral float-right" title="Running the client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installing.html" class="btn btn-neutral float-left" title="Installing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Except where otherwise noted, content on this site is
licensed under a Creative Commons Attribution 3.0 License

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>