

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Experiment Configuration user interface &mdash; sardana 3.1.2-alpha documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MacroButton User’s Interface" href="macrobutton.html" />
    <link rel="prev" title="Sequencer" href="sequencer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> sardana
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://www.sardana-controls.org">Home Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sardana-org/sardana">Project Page</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pypi.python.org/pypi/sardana">Download from PyPI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../docs.html">Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">User’s Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/index.html">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../spock.html">Spock</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Sardana-Taurus Widgets</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="macroexecutor.html">MacroExecutor</a></li>
<li class="toctree-l4"><a class="reference internal" href="sequencer.html">Sequencer</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Experiment Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="macrobutton.html">MacroButton</a></li>
<li class="toctree-l4"><a class="reference internal" href="sardanaeditor.html">Sardana Editor</a></li>
<li class="toctree-l4"><a class="reference internal" href="showscan.html">Showscan</a></li>
<li class="toctree-l4"><a class="reference internal" href="poolmotortv.html">PoolMotorTV</a></li>
<li class="toctree-l4"><a class="reference internal" href="poolchanneltv.html">PoolChannelTV</a></li>
<li class="toctree-l4"><a class="reference internal" href="qtspock.html">QtSpock</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../scan.html">Scans</a></li>
<li class="toctree-l3"><a class="reference internal" href="../motion.html">Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../acquisition.html">Acquisition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../diffractometer.html">Diffractometer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adding_elements.html">Adding real elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../macro_hooks.html">Macro Hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../macro_environment.html">Macro Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../macro_logging_and_reports.html">Macro Logging and Reports</a></li>
<li class="toctree-l3"><a class="reference internal" href="../environment_variable_catalog.html">Environment Variable Catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standard_macro_catalog.html">Standard macro catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/sardana-org/sardana/issues?q=is:issue+is:open+label:doc:knownbug">Known Problems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../devel/index.html">Developer’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sep/index.html">Sardana Enhancement Proposals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../news.html">What's new?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../other_versions.html">Docs for other Sardana versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana-plugins">Plugins Catalogue</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana/wiki">Wiki</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">sardana</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../docs.html">Sardana 3.1 Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">User’s Guide</a> &raquo;</li>
        
          <li><a href="index.html">Sardana-Taurus Extension widgets</a> &raquo;</li>
        
      <li>Experiment Configuration user interface</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/users/taurus/experimentconfiguration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="experiment-configuration-user-interface">
<span id="expconf-ui"></span><h1><a class="toc-backref" href="#id4">Experiment Configuration user interface</a><a class="headerlink" href="#experiment-configuration-user-interface" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#experiment-configuration-user-interface" id="id4">Experiment Configuration user interface</a></p>
<ul>
<li><p><a class="reference internal" href="#measurement-group-configuration" id="id5">Measurement group configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#experimental-channel-configuration" id="id6">Experimental channel configuration</a></p></li>
<li><p><a class="reference internal" href="#view-current-scan-plot-s" id="id7">View current scan plot(s)</a></p></li>
<li><p><a class="reference internal" href="#snapshot-group" id="id8">Snapshot group</a></p></li>
<li><p><a class="reference internal" href="#storage" id="id9">Storage</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>Experiment Configuration widget a.k.a. <code class="docutils literal notranslate"><span class="pre">expconf</span></code> is a complete interface to
define the experiment configuration. It consists of three main groups of
parameters organized in tabs:</p>
<ul class="simple">
<li><p>Measurement group</p></li>
<li><p>Snapshot group</p></li>
<li><p>Storage</p></li>
</ul>
<p>The parameters may be modified in an arbitrary order, at any of the tabs, and
will be maintained as pending to apply until either applied or reset by the
user.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>While editing configuration in the <code class="docutils literal notranslate"><span class="pre">expconf</span></code> widget, the experiment
configuration on the server may have changed, for example, another
<code class="docutils literal notranslate"><span class="pre">expconf</span></code> instance applied changes or a running macro changed it
programmatically. This is notified to the user with a pop-up dialog
offering the user to either keep the local version of the experiment
configuration or to load the new configuration from the server. Be aware that
the second option will <strong>override all your local changes</strong>. It is also
possible to use the <code class="docutils literal notranslate"><span class="pre">expconf</span></code> widget in <em>slave</em> mode and automatically
update on the server changes. You can enable/disable the “Auto update” mode
from the context menu.</p>
</div>
<p>This widget is usually present in sardana-aware Taurus GUIs and is also invoked
by the <code class="docutils literal notranslate"><span class="pre">expconf</span></code> command in <a class="reference internal" href="../spock.html#sardana-spock"><span class="std std-ref">Spock</span></a>.</p>
<div class="section" id="measurement-group-configuration">
<span id="expconf-ui-measurementgroup"></span><h2><a class="toc-backref" href="#id5">Measurement group configuration</a><a class="headerlink" href="#measurement-group-configuration" title="Permalink to this headline">¶</a></h2>
<p>In the measurement group tab the user can:</p>
<ul class="simple">
<li><p>create or remove a measurement group</p></li>
<li><p>select the active measurement group</p></li>
<li><p>add or remove channels of the measurement group</p></li>
<li><p>reorganize the order of the channels in the measurement group</p></li>
<li><p>change configuration of a particular channel (or its controller) in the
selected measurement group</p></li>
<li><p>show/hide online plots for the current scan.</p></li>
</ul>
<div class="figure align-center" id="id1" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/expconf01.png"><img alt="../../_images/expconf01.png" src="../../_images/expconf01.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Measurement group tab of the expconf widget with the <code class="xref py py-obj docutils literal notranslate"><span class="pre">mntgrp</span></code> configuration.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="experimental-channel-configuration">
<span id="expconf-ui-measurementgroup-channel"></span><h3><a class="toc-backref" href="#id6">Experimental channel configuration</a><a class="headerlink" href="#experimental-channel-configuration" title="Permalink to this headline">¶</a></h3>
<p>In the measurement group table the user can modify the following parameters of
a given channel or its controller:</p>
<ul class="simple">
<li><p>enabled - include or exclude (True or False) the channel in the acquisition
process.</p></li>
<li><p>output - whether the channel acquisition results should be printed, for example,
by the output recorder during the scan. Can be either True or False.</p></li>
<li><p>data type - type of the data</p></li>
<li><p>plot type - select the online scan plot type for the channel. Can have one
of the following values:
- No - no plot
- Spectrum - suitable for scalar values
- Image - suitable for spectrum values</p></li>
<li><p>plot axes - select the abscissa (x axis) of the plot. Can be either
- &lt;idx&gt; - scan index (point number)
- &lt;mov&gt; - master moveable (in case of a2scan - the first motor) used in the scan
- any of the scalar experimental channels used in the measurement group</p></li>
<li><p>timer - channel to be used as timer. Timer controls the acqusition in terms of the
integration time. Applies on the controller level.</p></li>
<li><p>monitor - channel to be used as monitor. Monitor controls the acquisition in
terms of the monitor counts. Applies on the controller level.</p></li>
<li><p>synchronizer - the element that will synchronize the channel’s
acquisition. Can be either a <a class="reference internal" href="../../devel/overview/overview_triggergate.html#sardana-triggergate-overview"><span class="std std-ref">Trigger/Gate</span></a>
element or the <em>software</em> synchronizer. Configurable only for the timerable
controllers. Applies on the controller level.</p></li>
<li><p>synchronization - the synchronization type. Can be either <em>Trigger</em> or <em>Gate</em>.
Configurable only for the timerable controllers. Applies on the controller level.</p></li>
<li><p>conditioning - expression to evaluate on the data before displaying it</p></li>
<li><p>normalization - normalization mode for the data</p></li>
<li><p>nexus path - location of the data of this channel withing the NeXus tree</p></li>
</ul>
</div>
<div class="section" id="view-current-scan-plot-s">
<span id="expconf-ui-showplots"></span><h3><a class="toc-backref" href="#id7">View current scan plot(s)</a><a class="headerlink" href="#view-current-scan-plot-s" title="Permalink to this headline">¶</a></h3>
<p>Plots need to be configured previously as explained in the
<a class="reference internal" href="#expconf-ui-measurementgroup-channel"><span class="std std-ref">channel configuration</span></a>
(plot type and plot axes).
Running a scan will spawn a panel on taurusgui with the plot. The number of
panels that will spawn is defined in the
<a class="reference internal" href="#expconf-ui-measurementgroup-channel"><span class="std std-ref">channel configuration</span></a>.</p>
<p>If the configuration hasn’t been changed, a new scan will overwrite the previous plots.</p>
<p>Plots can also be seen with spock’s command <code class="docutils literal notranslate"><span class="pre">showscan</span> <span class="pre">online</span></code>.</p>
</div>
<div class="section" id="snapshot-group">
<span id="expconf-ui-snapshot-group"></span><h3><a class="toc-backref" href="#id8">Snapshot group</a><a class="headerlink" href="#snapshot-group" title="Permalink to this headline">¶</a></h3>
<p>You can configure the snapshot group with the Experiment Configuration widget.
To do so, go to the <strong>Snapshot Group</strong> tab.</p>
<div class="figure align-center" id="id2" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/expconf-snapshot-group.png"><img alt="../../_images/expconf-snapshot-group.png" src="../../_images/expconf-snapshot-group.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Snapshot Group tab.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>This tab provides the device tree browser for both Sardana elements and external
devices (currently only Tango is supported as an external source).
You can add elements to the snapshot group by just dragging them from the tree
browser and dropping them onto the list below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Settings in this tab alter <a class="reference internal" href="../environment_variable_catalog.html#prescansnapshot"><span class="std std-ref">PreScanSnapshot</span></a> environment variable.</p>
</div>
</div>
<div class="section" id="storage">
<span id="expconf-ui-storage"></span><h3><a class="toc-backref" href="#id9">Storage</a><a class="headerlink" href="#storage" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">expconf</span></code> widget provides a way to configure the scan storage paths.
These settings are in the <strong>Storage</strong> tab.</p>
<div class="figure align-center" id="id3" style="width: 100%">
<a class="reference internal image-reference" href="../../_images/expconf-storage.png"><img alt="../../_images/expconf-storage.png" src="../../_images/expconf-storage.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Storage configuration tab.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>You can specify multiple files as a comma-separated list. Remeber that the path
you set is a path on Sardana server machine.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Settings in this tab alter <a class="reference internal" href="../environment_variable_catalog.html#scanfile"><span class="std std-ref">ScanFile</span></a>, <a class="reference internal" href="../environment_variable_catalog.html#scandir"><span class="std std-ref">ScanDir</span></a> and <a class="reference internal" href="../environment_variable_catalog.html#datacompressionrank"><span class="std std-ref">DataCompressionRank</span></a>
environment variables.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="macrobutton.html" class="btn btn-neutral float-right" title="MacroButton User’s Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="sequencer.html" class="btn btn-neutral float-left" title="Sequencer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Except where otherwise noted, content on this site is
licensed under a Creative Commons Attribution 3.0 License.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>