

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Environment Variable Catalog &mdash; sardana 3.0.3 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Standard macro catalog" href="standard_macro_catalog.html" />
    <link rel="prev" title="Macro Logging and Reports" href="macro_logging_and_reports.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> sardana
          

          
            
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="http://www.sardana-controls.org">Home Page</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/sardana-org/sardana">Project Page</a></li>
<li class="toctree-l1"><a class="reference external" href="http://pypi.python.org/pypi/sardana">Download from PyPI</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../docs.html">Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">User’s Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/index.html">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="spock.html">Spock</a></li>
<li class="toctree-l3"><a class="reference internal" href="taurus/index.html">Sardana-Taurus Widgets</a></li>
<li class="toctree-l3"><a class="reference internal" href="scan.html">Scans</a></li>
<li class="toctree-l3"><a class="reference internal" href="motion.html">Motion</a></li>
<li class="toctree-l3"><a class="reference internal" href="acquisition.html">Acquisition</a></li>
<li class="toctree-l3"><a class="reference internal" href="diffractometer.html">Diffractometer</a></li>
<li class="toctree-l3"><a class="reference internal" href="adding_elements.html">Adding real elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="macro_hooks.html">Macro Hooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="macro_environment.html">Macro Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="macro_logging_and_reports.html">Macro Logging and Reports</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Environment Variable Catalog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-environment-variables">General Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diffractometer-environment-variables">Diffractometer Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#macro-logging-environment-variables">Macro Logging Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#motion-environment-variables">Motion Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scan-environment-variables">Scan Environment Variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="standard_macro_catalog.html">Standard macro catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration/index.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="screenshots.html">Screenshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/sardana-org/sardana/issues?q=is:issue+is:open+label:doc:knownbug">Known Problems</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../devel/index.html">Developer’s Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sep/index.html">Sardana Enhancement Proposals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../other_versions.html">Docs for other Sardana versions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana-plugins">Plugins Catalogue</a></li>
<li class="toctree-l1"><a class="reference external" href="http://github.com/sardana-org/sardana/wiki">Wiki</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">sardana</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../docs.html">Sardana 3.0 Documentation</a> &raquo;</li>
        
          <li><a href="index.html">User’s Guide</a> &raquo;</li>
        
      <li>Environment Variable Catalog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/users/environment_variable_catalog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="environment-variable-catalog">
<span id="id1"></span><h1><a class="toc-backref" href="#id28">Environment Variable Catalog</a><a class="headerlink" href="#environment-variable-catalog" title="Permalink to this headline">¶</a></h1>
<p>This is the catalog of the available environment variables that can be used in
Sardana.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#environment-variable-catalog" id="id28">Environment Variable Catalog</a></p>
<ul>
<li><p><a class="reference internal" href="#general-environment-variables" id="id29">General Environment Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#activemntgrp" id="id30">ActiveMntGrp</a></p></li>
<li><p><a class="reference internal" href="#preservemacrodata" id="id31">PreserveMacroData</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#diffractometer-environment-variables" id="id32">Diffractometer Environment Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#diffracdevice" id="id33">DiffracDevice</a></p></li>
<li><p><a class="reference internal" href="#psi" id="id34">Psi</a></p></li>
<li><p><a class="reference internal" href="#q" id="id35">Q</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#macro-logging-environment-variables" id="id36">Macro Logging Environment Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#logmacro" id="id37">LogMacro</a></p></li>
<li><p><a class="reference internal" href="#logmacrodir" id="id38">LogMacroDir</a></p></li>
<li><p><a class="reference internal" href="#logmacromode" id="id39">LogMacroMode</a></p></li>
<li><p><a class="reference internal" href="#logmacroformat" id="id40">LogMacroFormat</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#motion-environment-variables" id="id41">Motion Environment Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#motiondecoupled" id="id42">MotionDecoupled</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#scan-environment-variables" id="id43">Scan Environment Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#applyextrapolation" id="id44">ApplyExtrapolation</a></p></li>
<li><p><a class="reference internal" href="#applyinterpolation" id="id45">ApplyInterpolation</a></p></li>
<li><p><a class="reference internal" href="#datacompressionrank" id="id46">DataCompressionRank</a></p></li>
<li><p><a class="reference internal" href="#directorymap" id="id47">DirectoryMap</a></p></li>
<li><p><a class="reference internal" href="#jsonrecorder" id="id48">JsonRecorder</a></p></li>
<li><p><a class="reference internal" href="#outputcols" id="id49">OutputCols</a></p></li>
<li><p><a class="reference internal" href="#prescansnapshot" id="id50">PreScanSnapshot</a></p></li>
<li><p><a class="reference internal" href="#sampleinfo" id="id51">SampleInfo</a></p></li>
<li><p><a class="reference internal" href="#scandir" id="id52">ScanDir</a></p></li>
<li><p><a class="reference internal" href="#scanfile" id="id53">ScanFile</a></p></li>
<li><p><a class="reference internal" href="#scanrecorder" id="id54">ScanRecorder</a></p></li>
<li><p><a class="reference internal" href="#scanstats" id="id55">ScanStats</a></p></li>
<li><p><a class="reference internal" href="#sharedmemory" id="id56">SharedMemory</a></p></li>
<li><p><a class="reference internal" href="#sourceinfo" id="id57">SourceInfo</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="general-environment-variables">
<span id="general-env-vars"></span><h2><a class="toc-backref" href="#id29">General Environment Variables</a><a class="headerlink" href="#general-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="activemntgrp">
<span id="id2"></span><h3><a class="toc-backref" href="#id30">ActiveMntGrp</a><a class="headerlink" href="#activemntgrp" title="Permalink to this headline">¶</a></h3>
<p><em>Mandatory, set by user</em></p>
<p>Environment variable to define the measurement group that will be
used when running a scan.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For further information regarding measurement groups, please read
the following document:
<a class="reference internal" href="../devel/overview/overview_measurementgroup.html#sardana-measurementgroup-overview"><span class="std std-ref">Measurement Group Overview</span></a></p>
</div>
</div>
<div class="section" id="preservemacrodata">
<span id="id3"></span><h3><a class="toc-backref" href="#id31">PreserveMacroData</a><a class="headerlink" href="#preservemacrodata" title="Permalink to this headline">¶</a></h3>
<p>Boolean environment variable used to keep in memory the data generated by a macro.</p>
</div>
</div>
<div class="section" id="diffractometer-environment-variables">
<span id="diffractometer-env-vars"></span><h2><a class="toc-backref" href="#id32">Diffractometer Environment Variables</a><a class="headerlink" href="#diffractometer-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="diffracdevice">
<span id="id4"></span><h3><a class="toc-backref" href="#id33">DiffracDevice</a><a class="headerlink" href="#diffracdevice" title="Permalink to this headline">¶</a></h3>
<p><em>Mandatory, set by user</em></p>
<p>This environment variable is used to define the name of the diffractometer device.
At this moment, this name is supporting only Tango device names and it should
be pointing to the Sardana controller of the class HklPseudoMotorCtrl that will
be used by the hkl macros.</p>
</div>
<div class="section" id="psi">
<span id="id5"></span><h3><a class="toc-backref" href="#id34">Psi</a><a class="headerlink" href="#psi" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Environment variable to specify the <em>psi</em> device. This device must be the
Tango device server corresponding Sardana PseudoMotor steering the movement
of the azimuthal angle.</p>
</div>
<div class="section" id="q">
<span id="id6"></span><h3><a class="toc-backref" href="#id35">Q</a><a class="headerlink" href="#q" title="Permalink to this headline">¶</a></h3>
<p><em>Mandatory, set by macro wh</em></p>
<p>This environment variable is set by the macro <em>wh</em> and it correspond to the
Q vector.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For a better understanding of the <em>wh</em> macro, please refer to
<a class="reference internal" href="../devel/api/sardana/macroserver/macros/hkl.html#sardana.macroserver.macros.hkl.wh" title="sardana.macroserver.macros.hkl.wh"><code class="xref py py-class docutils literal notranslate"><span class="pre">wh</span></code></a></p>
</div>
</div>
</div>
<div class="section" id="macro-logging-environment-variables">
<span id="macro-logging-env-vars"></span><h2><a class="toc-backref" href="#id36">Macro Logging Environment Variables</a><a class="headerlink" href="#macro-logging-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="logmacro">
<span id="id7"></span><h3><a class="toc-backref" href="#id37">LogMacro</a><a class="headerlink" href="#logmacro" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Enable and disable the macro logging via this boolean environment variable.</p>
</div>
<div class="section" id="logmacrodir">
<span id="id8"></span><h3><a class="toc-backref" href="#id38">LogMacroDir</a><a class="headerlink" href="#logmacrodir" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user or to default value: tmp, by macro</em></p>
<p>Directory where the macro logging file will be save.</p>
</div>
<div class="section" id="logmacromode">
<span id="id9"></span><h3><a class="toc-backref" href="#id39">LogMacroMode</a><a class="headerlink" href="#logmacromode" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user or to default value: 0, by macro</em></p>
<p>With this environment variable it’s possible to specify the number of backup
files to be saved.</p>
<div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<p>Add and example here.</p>
</div>
</div>
<div class="section" id="logmacroformat">
<span id="id11"></span><h3><a class="toc-backref" href="#id40">LogMacroFormat</a><a class="headerlink" href="#logmacroformat" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user or to default value by macro</em></p>
<p>Definition of the format to be used to save the file.</p>
</div>
</div>
<div class="section" id="motion-environment-variables">
<span id="motion-env-vars"></span><h2><a class="toc-backref" href="#id41">Motion Environment Variables</a><a class="headerlink" href="#motion-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="motiondecoupled">
<span id="id12"></span><h3><a class="toc-backref" href="#id42">MotionDecoupled</a><a class="headerlink" href="#motiondecoupled" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Enable/disable the decoupled motion for continuous scans.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For a deeper understanding of the continuous scans, please refer
to the <a class="reference internal" href="scan.html#sardana-users-scan-continuous"><span class="std std-ref">continuous scans documentation</span></a></p>
</div>
</div>
</div>
<div class="section" id="scan-environment-variables">
<span id="scan-env-vars"></span><h2><a class="toc-backref" href="#id43">Scan Environment Variables</a><a class="headerlink" href="#scan-environment-variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="applyextrapolation">
<span id="applyextraploation"></span><h3><a class="toc-backref" href="#id44">ApplyExtrapolation</a><a class="headerlink" href="#applyextrapolation" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Enable/disable the extrapolation method to fill the missing parts of the
very first scan records in case the software synchronized acquisition could
not follow the pace. Can be used only with the continuous acquisition
macros e.g. <em>ct</em> type of continuous scans or timescan. Its value is of
boolean type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ApplyExtrapolation environment variable has been included in
Sardana on a provisional basis. Backwards incompatible changes
(up to and including removal of this variable) may occur if deemed
necessary by the core developers.</p>
</div>
</div>
<div class="section" id="applyinterpolation">
<span id="id13"></span><h3><a class="toc-backref" href="#id45">ApplyInterpolation</a><a class="headerlink" href="#applyinterpolation" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Enable/disable the <a class="reference external" href="https://en.wikipedia.org/wiki/Zero-order_hold">zero order hold</a> a.k.a. “constant interpolation”
method to fill the missing parts of the scan records in case the software
synchronized acquisition could not follow the pace. Can be used only
with the continuous acquisition macros <em>ct</em> type of continuous scans or
timescan. Its value is of boolean type.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The ApplyInterpolation environment variable has been included in
Sardana on a provisional basis with <a class="reference external" href="http://www.sardana-controls.org/sep/?SEP6.md">SEP6</a>. Backwards incompatible
changes (up to and including removal of this variable) may occur if
deemed necessary by the core developers.</p>
</div>
</div>
<div class="section" id="datacompressionrank">
<span id="id14"></span><h3><a class="toc-backref" href="#id46">DataCompressionRank</a><a class="headerlink" href="#datacompressionrank" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Environment variable used to select the data compression rank that will be
used to save the data into a file.</p>
<p>The data compression rank is the minimum number of dimensions above which the
dataset will be compressed, e.g. 0 for scalars, 1 for spectrums, 2 for images.</p>
<p>The possible values are:</p>
<ul class="simple">
<li><p>-1: No where</p></li>
<li><p>0: for all datasets</p></li>
<li><p>1: for datasets of rank 1 or more</p></li>
<li><p>2: for datasets of rank 2 or more</p></li>
<li><p>3: for datasets of rank 3 or more</p></li>
</ul>
</div>
<div class="section" id="directorymap">
<span id="id15"></span><h3><a class="toc-backref" href="#id47">DirectoryMap</a><a class="headerlink" href="#directorymap" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>In case that the server and the client do not run on the same host, the scan
data may be easily shared between them using the NFS. Since some of the
tools e.g. showscan rely on the scan data file the DirectoryMap may help in
overcoming the shared directory naming issues between the hosts.</p>
<p>Its value is a dictionary with keys pointing to the server side directory
and values to the client side directory/ies (string or list of strings).</p>
<div class="admonition-todo admonition" id="id16">
<p class="admonition-title">Todo</p>
<p>Add an example here.</p>
</div>
</div>
<div class="section" id="jsonrecorder">
<span id="id17"></span><h3><a class="toc-backref" href="#id48">JsonRecorder</a><a class="headerlink" href="#jsonrecorder" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><em>Not mandatory, set by user</em></p>
</div></blockquote>
<p>Enable/disable the JsonRecorder. This recorder is used to retrieve the data
generated by a macro during its run time in a json format.
An example of usage of this recorder is plotting live scans.</p>
<div class="admonition-todo admonition" id="id18">
<p class="admonition-title">Todo</p>
<p>Add reference to the jsonrecorder documentation when available.</p>
</div>
</div>
<div class="section" id="outputcols">
<span id="id19"></span><h3><a class="toc-backref" href="#id49">OutputCols</a><a class="headerlink" href="#outputcols" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><em>Not mandatory, set by user</em></p>
</div></blockquote>
<p>Select a subset of the scan output columns to be printed. Two different ways
of specifying the selected columns exists. First, by specifying an integer
number e.g. 2 means print just the very first two columns.
Second, by specifying a list of string identifiers e.g. scan elements URIs
or the scan record metadata identifiers: “point_nb”, “timestamp”.</p>
<p>The original order of colums is not changed. This feature is similar to the
<em>expconf</em> enable/disable output.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">senv</span> <span class="n">OutputCols</span> <span class="s2">&quot;[&#39;tango_host:port/expchan/zerodctrl01/1&#39;,&#39;motor1&#39;,&#39;timestamp&#39;]&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="prescansnapshot">
<span id="id20"></span><h3><a class="toc-backref" href="#id50">PreScanSnapshot</a><a class="headerlink" href="#prescansnapshot" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><em>Not mandatory, set by user</em></p>
</div></blockquote>
<p>Variable listing the elements that will be collected and saved before a Scan
is executed.</p>
<p>The format for the value is the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="n">taurus</span> <span class="n">model</span> <span class="n">URI</span><span class="p">,</span> <span class="n">label</span><span class="p">)]</span>
</pre></div>
</div>
<p>If the first element in the tuple is a Sardana element, it’s enough to set up
the URI up to the Tango device server name. If the element is outside Sardana,
i.e. A Tango attribute, you need to add the full URI, up to the attribute name.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;tango://sardana/motor/01&#39;</span><span class="p">,</span> <span class="s1">&#39;mot01&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[(</span><span class="s1">&#39;tango://device/server/01/attribute&#39;</span><span class="p">,</span><span class="s1">&#39;label&#39;</span><span class="p">)]</span>
</pre></div>
</div>
</div>
<div class="section" id="sampleinfo">
<span id="id21"></span><h3><a class="toc-backref" href="#id51">SampleInfo</a><a class="headerlink" href="#sampleinfo" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p><em>Not mandatory, set by user</em></p>
</div></blockquote>
<p>Extra information about the sample that could be added as a string.
This environment variable exist for metadata purposes.</p>
</div>
<div class="section" id="scandir">
<span id="id22"></span><h3><a class="toc-backref" href="#id52">ScanDir</a><a class="headerlink" href="#scandir" title="Permalink to this headline">¶</a></h3>
<p><em>Mandatory if you want scan file to be saved, set by user</em></p>
<p>Its value is of string type and indicates an absolute path to the directory
where scan data will be stored.</p>
</div>
<div class="section" id="scanfile">
<span id="id23"></span><h3><a class="toc-backref" href="#id53">ScanFile</a><a class="headerlink" href="#scanfile" title="Permalink to this headline">¶</a></h3>
<p><em>Mandatory if you want scan file to be saved, set by user</em></p>
<p>Its value may be either of type string or of list of strings. In the second
case data will be duplicated in multiple files (different file formats may
be used). Recorder class is implicitly selected based on the file extension.
For example “myexperiment.spec” will by default store data in SPEC
compatible format.</p>
</div>
<div class="section" id="scanrecorder">
<span id="id24"></span><h3><a class="toc-backref" href="#id54">ScanRecorder</a><a class="headerlink" href="#scanrecorder" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Its value may be either of type string or of list of strings. If
ScanRecorder variable is defined, it explicitly indicates which recorder
class should be used and for which file defined by ScanFile (based on the
order).</p>
<p>Example 1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ScanFile</span> <span class="o">=</span> <span class="n">myexperiment</span><span class="o">.</span><span class="n">spec</span>
<span class="n">ScanRecorder</span> <span class="o">=</span> <span class="n">FIO_FileRecorder</span>

<span class="n">FIO_FileRecorder</span> <span class="n">will</span> <span class="n">write</span> <span class="n">myexperiment</span><span class="o">.</span><span class="n">spec</span> <span class="n">file</span><span class="o">.</span>
</pre></div>
</div>
<p>Example 2:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ScanFile</span> <span class="o">=</span> <span class="n">myexperiment</span><span class="o">.</span><span class="n">spec</span><span class="p">,</span> <span class="n">myexperiment</span><span class="o">.</span><span class="n">h5</span>
<span class="n">ScanRecorder</span> <span class="o">=</span> <span class="n">FIO_FileRecorder</span>

<span class="n">FIO_FileRecorder</span> <span class="n">will</span> <span class="n">write</span> <span class="n">myexperiment</span><span class="o">.</span><span class="n">spec</span> <span class="n">file</span> <span class="ow">and</span>
<span class="n">NXscan_FileRecorder</span> <span class="n">will</span> <span class="n">write</span> <span class="n">the</span> <span class="n">myexpriment</span><span class="o">.</span><span class="n">h5</span><span class="o">.</span> <span class="n">The</span> <span class="n">selection</span> <span class="n">of</span> <span class="n">the</span>
<span class="n">second</span> <span class="n">recorder</span> <span class="ow">is</span> <span class="n">based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">extension</span><span class="o">.</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>More about the extension to recorder map in
<a class="reference internal" href="../devel/howto_recorders.html#sardana-writing-recorders"><span class="std std-ref">Writing recorders</span></a>.</p>
</div>
</div>
<div class="section" id="scanstats">
<span id="id25"></span><h3><a class="toc-backref" href="#id55">ScanStats</a><a class="headerlink" href="#scanstats" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by</em> <a class="reference internal" href="../devel/api/sardana/macroserver/macros/scan.html#sardana.macroserver.macros.scan.scanstats" title="sardana.macroserver.macros.scan.scanstats"><code class="xref py py-class docutils literal notranslate"><span class="pre">scanstats</span></code></a> <em>macro</em></p>
<p>Stores the last calculated scan statistics. Its value is a dictionary with
the following key - value:</p>
<ul class="simple">
<li><p>Motor - motor name on which the statistics were calculated</p></li>
<li><p>ScanID - scan ID</p></li>
<li><p>Stats - dictionary with channel(s) name as key and value being a dictionary
with the channel’s scan statistics:</p>
<ul>
<li><p>cen - center of FWHM</p></li>
<li><p>com - center of mass of channel data</p></li>
<li><p>fwhm - full-width at half-max of channel data</p></li>
<li><p>int - sum/integral of channel data</p></li>
<li><p>max - maximum of channel data</p></li>
<li><p>maxpos - motor position where the channel reached the maximum</p></li>
<li><p>mean - average of channel data</p></li>
<li><p>min - minimum of channel data</p></li>
<li><p>minpos - motor position where the channel reached the minimum</p></li>
</ul>
</li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;Motor&#39;</span><span class="p">:</span> <span class="s1">&#39;mot01&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ScanID&#39;</span><span class="p">:</span> <span class="mi">288</span><span class="p">,</span>
 <span class="s1">&#39;Stats&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ct01&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;cen&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
   <span class="s1">&#39;com&#39;</span><span class="p">:</span> <span class="mf">5.000000000000002</span><span class="p">,</span>
   <span class="s1">&#39;fwhm&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
   <span class="s1">&#39;int&#39;</span><span class="p">:</span> <span class="mf">10.099999999999998</span><span class="p">,</span>
   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
   <span class="s1">&#39;maxpos&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
   <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="mf">0.09999999999999998</span><span class="p">,</span>
   <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
   <span class="s1">&#39;minpos&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">},</span>
  <span class="s1">&#39;gct01&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;cen&#39;</span><span class="p">:</span> <span class="mf">4.999999999585752</span><span class="p">,</span>
   <span class="s1">&#39;com&#39;</span><span class="p">:</span> <span class="mf">5.000000000000002</span><span class="p">,</span>
   <span class="s1">&#39;fwhm&#39;</span><span class="p">:</span> <span class="mf">1.9999999568277493</span><span class="p">,</span>
   <span class="s1">&#39;int&#39;</span><span class="p">:</span> <span class="mf">21.289340331309955</span><span class="p">,</span>
   <span class="s1">&#39;max&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
   <span class="s1">&#39;maxpos&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
   <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="mf">0.21078554783475204</span><span class="p">,</span>
   <span class="s1">&#39;min&#39;</span><span class="p">:</span> <span class="mf">2.9802322387695312e-08</span><span class="p">,</span>
   <span class="s1">&#39;minpos&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}}}</span>
</pre></div>
</div>
</div>
<div class="section" id="sharedmemory">
<span id="id26"></span><h3><a class="toc-backref" href="#id56">SharedMemory</a><a class="headerlink" href="#sharedmemory" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Its value is of string type and it indicates which shared memory recorder should
be used during the scan e.g. “sps” will use SPSRecorder (sps Python module
must be installed on the PC where the MacroServer runs).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more information about the implementation details of the scan
macros in Sardana, see
<a class="reference internal" href="../devel/howto_macros/scan_framework.html#sardana-macros-scanframework"><span class="std std-ref">scan framework</span></a></p>
</div>
</div>
<div class="section" id="sourceinfo">
<span id="id27"></span><h3><a class="toc-backref" href="#id57">SourceInfo</a><a class="headerlink" href="#sourceinfo" title="Permalink to this headline">¶</a></h3>
<p><em>Not mandatory, set by user</em></p>
<p>Extra information about the source that could be added as a string.
This environment variable exist for metadata purposes.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="standard_macro_catalog.html" class="btn btn-neutral float-right" title="Standard macro catalog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="macro_logging_and_reports.html" class="btn btn-neutral float-left" title="Macro Logging and Reports" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright Except where otherwise noted, content on this site is
licensed under a Creative Commons Attribution 3.0 License

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>